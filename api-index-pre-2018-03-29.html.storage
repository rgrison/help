<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Cloud 66 - API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","ruby"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div style="text-align:center; margin-top:10px;">
        <img width="100px" src="images/logo.png" />
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="ruby">Ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://app.cloud66.com/api/3'> https://app.cloud66.com/api/3</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p><a href="http://www.cloud66.com">Cloud 66</a> is a full stack container management as a service. It allows you to build, provision, configure and manage Docker containers on your own server on any cloud. You can find more information on Cloud 66 on <a href="http://help.cloud66.com/">our help site</a>.</p>

<h2 id="resource-model">Resource model</h2>

<p>The Cloud 66 API is organised around <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a>. It is designed to have predictable, resource-oriented URLs and to use HTTP response codes to indicate API errors.</p>

<p>We use built-in HTTP features, like HTTP authentication and HTTP verbs, which can be understood by off-the-shelf HTTP clients.</p>

<p><a href="http://www.json.org/">JSON</a> will be returned in all responses from the API, including errors (though if you&rsquo;re using API bindings, we will convert the response to the appropriate language-specific object).</p>

<h2 id="authentication">Authentication</h2>

<p>Cloud 66 uses <a href="http://oauth.net/2/">OAuth2</a> to authenticate users and grant access to stacks and redeployments. To use it, you need an OAuth 2.0 compatible client. To submit API requests, you must pass an OAuth token. An OAuth token functions as a complete authentication request, acting as a substitute for a username and password pair. Because of this, it is absolutely essential that you keep your OAuth tokens secure.</p>

<p>To authenticate your requests with OAuth you need to send a bearer authorization header with your request. This is the preferred method of authenticating because it completes the authorization request in the header portion, away from the actual request.</p>

<p>Usually, you use a language binding (like a <a href="https://rubygems.org/">Ruby gem</a> or <a href="http://golang.org/pkg/">Go package</a>) to deal with the OAuth authentication. Alternatively, you can include the OAuth authentication token in the header of each request:</p>

<p><code class="prettyprint">Authorization: bearer 5262d64b892e8d4341000001</code></p>

<p>You can generate an OAuth token by visiting the <a href="https://app.cloud66.com/oauth/authorized_applications">Apps</a> , under your Account.</p>

<h3 id="how-to-authenticate-with-oauth2">How to authenticate with OAuth2</h3>

<p>You can generate an OAuth token using the Your Account &gt; <a href="https://app.cloud66.com/oauth/authorized_applications">Apps</a> area of the Cloud 66 user interface or using the API.</p>

<p><strong>Step 1 - Redirect users to request Cloud 66 access</strong></p>

<p><code class="prettyprint">GET https://app.cloud66.com/oauth/authorize</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Presence</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>The client ID you received from Cloud 66 when you registered.</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>redirect_url</td>
<td>URL in your app where users will be sent after authorization.</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>scope</td>
<td>Comma separated list of scopes.</td>
<td>optional</td>
</tr>
</tbody></table>

<p><strong>Step 2 - Cloud 66 redirects back to your site</strong></p>

<p>If the user accepts your request, Cloud 66 redirects back to your site with a temporary code in a code parameter as well as the state you provided in the previous step in a state parameter. If the states don’t match, the request has been created by a third party and the process should be aborted.</p>

<p>Exchange this for an access token:</p>

<p><code class="prettyprint">POST https://app.cloud66.com/oauth/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Presence</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>The client ID you received from Cloud 66 when you registered.</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>redirect_url</td>
<td>URL in your app where users will be sent after authorization.</td>
<td>optional</td>
</tr>
<tr>
<td>client_secret</td>
<td>The client secret you received from Cloud 66 when you registered.</td>
<td><strong>required</strong></td>
</tr>
</tbody></table>

<p><strong>Response</strong>
By default, the response will take the following form:</p>

<p><code class="prettyprint">access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&amp;amp;token_type=bearer</code><br>
<code class="prettyprint">Accept: application/json {&quot;access_token&quot;:&quot;e72e16c7e42f292c6912e7710c838347ae178b4a&quot;,&quot;token_type&quot;:&quot;bearer&quot;}</code></p>

<p><strong>Step 3 - Use the access token to access the API</strong></p>

<p>The access token allows you to make requests to the API on behalf of a user.</p>

<p><code class="prettyprint">GET &quot;https://app.cloud66.com/api/3/stack.json&quot; -H &quot;Authorization: Bearer e72e...b4a&quot;</code></p>

<h2 id="scoped-access">Scoped access</h2>

<p>A user’s scope defines the limits of the actions the user can perform with the Cloud 66 API. The user’s scope is encrypted as part of the OAuth access token. Users cannot submit requests not allowed by their defined scopes.</p>

<p>For the web flow, requested scopes be displayed to the user on the authorize form.</p>

<table><thead>
<tr>
<th>Scope</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>(no scope)</strong></td>
<td>Users with this scope have public read-only access and can view limited stack information.</td>
</tr>
<tr>
<td><strong>public</strong></td>
<td>Users with this scope have public read-only access and can view limited stack information.</td>
</tr>
<tr>
<td><strong>redeploy</strong></td>
<td>Users with this scope can redeploy any stacks they can access.</td>
</tr>
<tr>
<td><strong>jobs</strong></td>
<td>Users with this scope can view the scheduled jobs for the stacks they can access.</td>
</tr>
<tr>
<td><strong>users</strong></td>
<td>Users with this scope can manage other users’ mobile devices.</td>
</tr>
<tr>
<td><strong>admin</strong></td>
<td>Users with this scope can set and manage settings for the servers they can access.</td>
</tr>
</tbody></table>

<aside class="notice">
<i>Your application can request scopes in the initial redirection. You can specify multiple scopes by separating them with a space character:</i>
</aside>

<p><code class="prettyprint">https://app.cloud66.com/oauth/authorize?client_id=...&amp;scope=public+redeploy</code></p>

<h2 id="example">Example</h2>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'oauth2'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">base</span> <span class="o">=</span> <span class="s1">'https://app.cloud66.com'</span>
<span class="n">api_url</span> <span class="o">=</span> <span class="s1">'https://app.cloud66.com/api/3'</span>

<span class="k">if</span> <span class="no">File</span><span class="p">.</span><span class="nf">exists?</span> <span class="s1">'/tmp/cloud66_oauth_test.json'</span>
    <span class="n">config</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="no">File</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="s1">'/tmp/cloud66_oauth_test.json'</span><span class="p">))</span>
    <span class="n">client</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">'app_id'</span><span class="p">],</span> <span class="n">config</span><span class="p">[</span><span class="s1">'app_secret'</span><span class="p">],</span> <span class="ss">:site</span> <span class="o">=&gt;</span> <span class="n">base</span><span class="p">)</span>
    <span class="n">token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">config</span><span class="p">[</span><span class="s1">'token'</span><span class="p">])</span>
<span class="k">else</span>
    <span class="n">client</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">ENV</span><span class="p">[</span><span class="s1">'APP_ID'</span><span class="p">],</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'APP_SECRET'</span><span class="p">],</span> <span class="ss">:site</span> <span class="o">=&gt;</span> <span class="n">base</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="n">client</span><span class="p">.</span><span class="nf">auth_code</span><span class="p">.</span><span class="nf">authorize_url</span><span class="p">(</span><span class="ss">:redirect_uri</span> <span class="o">=&gt;</span> <span class="s1">'urn:ietf:wg:oauth:2.0:oob'</span><span class="p">,</span> <span class="ss">:scope</span> <span class="o">=&gt;</span> <span class="s1">'public admin redeploy'</span><span class="p">)</span>

    <span class="nb">puts</span> <span class="s2">"Enter the code:"</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">gets</span><span class="p">.</span><span class="nf">strip</span>

    <span class="n">token</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">auth_code</span><span class="p">.</span><span class="nf">get_token</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="ss">:redirect_uri</span> <span class="o">=&gt;</span> <span class="s2">"urn:ietf:wg:oauth:2.0:oob"</span><span class="p">)</span>

    <span class="c1"># save it</span>
    <span class="no">File</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s1">'/tmp/cloud66_oauth_test.json'</span><span class="p">,</span> <span class="p">{</span> <span class="ss">:app_id</span> <span class="o">=&gt;</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'APP_ID'</span><span class="p">],</span> <span class="ss">:app_secret</span> <span class="o">=&gt;</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'APP_SECRET'</span><span class="p">],</span> <span class="ss">:token</span> <span class="o">=&gt;</span> <span class="n">token</span><span class="p">.</span><span class="nf">token</span> <span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># Now you can use the token to call API methods, like:</span>

<span class="c1"># List all the stacks</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks.json"</span><span class="p">)</span>

<span class="c1"># list all the servers in the stack</span>
<span class="n">stack_uid</span> <span class="o">=</span> <span class="s1">'ENTER_STACK_UID'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_uid</span><span class="si">}</span><span class="s2">/servers.json"</span><span class="p">)</span>

<span class="c1"># show the response (no error handling)</span>
<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight shell"><code><span class="c"># Simple GET</span>
<span class="c"># Get list of stacks:</span>
curl -X GET <span class="s2">"https://app.cloud66.com/api/3/stacks.json"</span> -H <span class="s2">"Authorization: Bearer 4c9c9b1111"</span>

<span class="c"># GET with some params</span>
<span class="c"># Get list of all `mysql` backups in `1345` backup group:</span>
curl -X GET <span class="s2">"https://app.cloud66.com/api/3/stacks/f196c5b41758cb7977620d49eb1492ef/backups.json"</span> -H <span class="s2">"Authorization: Bearer 4c9c9b1111"</span> -d <span class="nv">group</span><span class="o">=</span>1345 -d <span class="nv">db_type</span><span class="o">=</span>mysql

<span class="c"># POST</span>
<span class="c"># Add a new iPhone application to user ID 18 with 'wertqy' as a token:</span>
curl -X POST <span class="s2">"https://app.cloud66.com/api/3/users/18/devices.json"</span> -H <span class="s2">"Authorization: Bearer 4c9c9b1111"</span> -d <span class="nv">token</span><span class="o">=</span>wertqy -d <span class="nv">device_type</span><span class="o">=</span>1 -d <span class="nv">sub_type</span><span class="o">=</span>1

<span class="c"># PUT</span>
<span class="c"># Update the type of device with token 'wertqy' to iPad:</span>
curl -X PUT <span class="s2">"https://app.cloud66.com/api/3/users/18/devices/wertqy.json"</span> -H <span class="s2">"Authorization: Bearer 4c9c9b1111"</span> -d <span class="nv">device_type</span><span class="o">=</span>1 -d <span class="nv">sub_type</span><span class="o">=</span>2

<span class="c"># DELETE</span>
<span class="c"># Delete device with token 'wertqy':</span>
curl -X DELETE <span class="s2">"https://app.cloud66.com/api/3/users/18/devices/wertqy.json"</span> -H <span class="s2">"Authorization: Bearer 4c9c9b1111"</span>
</code></pre>

<h3 id="ruby">Ruby</h3>

<p>This example shows how to get the first token using the Application (Client) ID and Secret. This is using <code class="prettyprint">urn:ietf:wg:oauth:2.0:oob</code> for command line tools.</p>

<p>Once you have the code, you can apply for a token. Tokens issued by the API server do not expire and are valid until the user revokes their access. You can see how to store and retrieve the token for future use in this example.</p>

<h3 id="curl">cURL</h3>

<p>For example, you can get lists of stacks with this command:</p>

<p><code class="prettyprint">curl -X GET &quot;https://app.cloud66.com/api/3/stacks.json&quot;  -H &quot;Authorization: Bearer PERSONAL_ACCESS_TOKEN&quot;</code>`</p>

<p>You can use your <strong>personal access token</strong> to call the API with cURL - it just needs to be passed in as a header.</p>

<aside class="notice">
You can find your <b>personal access token</b> in your Cloud 66 Accounts page, under <i>Authorized Applications</i>.
</aside>

<p>Assuming that your personal access token is <code class="prettyprint">4c9c9b1111</code>, you can find some examples for using cURL.</p>

<h3 id="go-example">Go Example</h3>

<p>You can use the <a href="https://github.com/cloud66/cloud66">Cloud 66 Go library repository</a> if you want to use Go.</p>

<h2 id="synchronous-vs-asynchronous-requests">Synchronous vs. asynchronous requests</h2>
<pre class="highlight ruby"><code><span class="c1">#Asynchronous example</span>
<span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/actions.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:command</span> <span class="o">=&gt;</span> <span class="s1">'clear_caches'</span><span class="p">}})</span>

<span class="c1">#Get the action ID</span>
<span class="nb">id</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">][</span><span class="s1">'id'</span><span class="p">]</span>
<span class="nb">puts</span> <span class="s2">"Started action with ID: </span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">"</span>

<span class="p">.</span><span class="nf">.</span><span class="o">.</span>

<span class="c1">#After some time check status</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/actions/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>

<span class="c1">#Check if the request finished successfully</span>
<span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s1">'finished_success'</span><span class="p">]</span><span class="o">==</span><span class="s1">'true'</span>
  <span class="nb">puts</span> <span class="s1">'Success!'</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Failed. Error: </span><span class="si">#{</span><span class="n">result</span><span class="p">[</span><span class="s1">'finished_message'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre>

<p>The Cloud 66 API uses both synchronous and asynchronous methods. Asynchronous methods are specified in the documentation for the associated calls; all others are generally considered synchronous.</p>

<p><strong>Synchronous</strong> methods will wait for the server to return a response for the request before it will continue processing. Your application will not perform any additional actions until it receives a response from the server.</p>

<p><strong>Asynchronous</strong> methods will submit the request to the server, but the application will not wait for a response from the server to continue processing. When the server returns a response, the application can execute a callback function to retrieve the response object, but will continue processing until the response is received.</p>

<h2 id="date-formats">Date formats</h2>

<p>Cloud 66 accepts and returns date values according to the ISO 8601 standard. Combined date and time values appear in UTC including local time zone offsets. For example: <code class="prettyprint">2014-06-15T14:13:18+00:00</code></p>

<h2 id="rate-limiting">Rate limiting</h2>

<p>The Cloud 66 API can receive a maximum of 3,000 requests per user per hour. When the request level reaches the maximum rate, subsequent requests will return a <code class="prettyprint">503: throttled</code> HTTP status message and the user must retry the request in the next hourly interval.</p>

<h2 id="standard-http-response-statuses">Standard HTTP response statuses</h2>

<p>Requests made using the Cloud 66 API can return any of the following response status codes.</p>

<table><thead>
<tr>
<th style="text-align: center">Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">200</td>
<td>ok</td>
<td>The request completed successfully.</td>
</tr>
<tr>
<td style="text-align: center">400</td>
<td>bad_request</td>
<td>The system cannot parse the request syntax. It might be missing required parameters or include an invalid value.</td>
</tr>
<tr>
<td style="text-align: center">401</td>
<td>unauthenticated</td>
<td>No authentication token was passed in the request.</td>
</tr>
<tr>
<td style="text-align: center">402</td>
<td>trial_expired</td>
<td>The user’s Cloud 66 trial period has expired.</td>
</tr>
<tr>
<td style="text-align: center">403</td>
<td>forbidden</td>
<td>The user does not have the scope required to submit this request.</td>
</tr>
<tr>
<td style="text-align: center">404</td>
<td>not_found</td>
<td>The system cannot find a response for this request URI.</td>
</tr>
<tr>
<td style="text-align: center">408</td>
<td>time_out</td>
<td>The system did not return a response before the server timed out.</td>
</tr>
<tr>
<td style="text-align: center">409</td>
<td>conflict</td>
<td>The system did not return a response because there is a current conflict with the resource.</td>
</tr>
<tr>
<td style="text-align: center">503</td>
<td>not_implemented</td>
<td>This resource is not actively implemented in this version of the Cloud 66 API.</td>
</tr>
<tr>
<td style="text-align: center">503</td>
<td>throttled</td>
<td>The user has reached or exceeded the maximum rate limit and must wait until the next hourly interval to retry the request.</td>
</tr>
</tbody></table>

<h2 id="stack-uid-retrieval">Stack UID retrieval</h2>

<p>Many requests in the Cloud 66 API rely on the Stack UID value, an alphanumeric string that uniquely identifies your stack. You can retrieve this value by accessing the <em>Stack information</em> page from the right sidebar of your stack page or by submitting an API request to list all stacks. The Stack UID appears in the response body for each stack you maintain.</p>

          <h1 id="cloud-vendor-instance-names">Cloud vendor instance names</h1>

<h2 id="amazon-web-services">Amazon Web Services</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Compute optimized</td>
<td>c1.medium</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c1.xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c3.large</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c3.xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c3.2xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c3.4xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c3.8xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c4.large</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c4.xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c4.2xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c4.4xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>c4.8xlarge</td>
</tr>
<tr>
<td>Compute optimized</td>
<td>cc2.8xlarge</td>
</tr>
<tr>
<td>GPU instances</td>
<td>cg1.4xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>cr1.8xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>d2.xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>d2.2xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>d2.4xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>d2.8xlarge</td>
</tr>
<tr>
<td>GPU instances</td>
<td>g2.2xlarge</td>
</tr>
<tr>
<td>GPU instances</td>
<td>g2.8xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>hi1.4xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>hs1.8xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>i2.xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>i2.2xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>i2.4xlarge</td>
</tr>
<tr>
<td>Storage optimized</td>
<td>i2.8xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m1.small</td>
</tr>
<tr>
<td>General purpose</td>
<td>m1.medium</td>
</tr>
<tr>
<td>General purpose</td>
<td>m1.large</td>
</tr>
<tr>
<td>General purpose</td>
<td>m1.xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>m2.xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>m2.2xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>m2.4xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m3.medium</td>
</tr>
<tr>
<td>General purpose</td>
<td>m3.large</td>
</tr>
<tr>
<td>General purpose</td>
<td>m3.xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m3.2xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m4.large</td>
</tr>
<tr>
<td>General purpose</td>
<td>m4.xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m4.2xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m4.4xlarge</td>
</tr>
<tr>
<td>General purpose</td>
<td>m4.10xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>r3.large</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>r3.xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>r3.2xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>r3.4xlarge</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>r3.8xlarge</td>
</tr>
<tr>
<td>Micro instance</td>
<td>t1.micro</td>
</tr>
<tr>
<td>General purpose</td>
<td>t2.nano</td>
</tr>
<tr>
<td>General purpose</td>
<td>t2.micro</td>
</tr>
<tr>
<td>General purpose</td>
<td>t2.small</td>
</tr>
<tr>
<td>General purpose</td>
<td>t2.medium</td>
</tr>
<tr>
<td>General purpose</td>
<td>t2.large</td>
</tr>
<tr>
<td>Memory optimized</td>
<td>x1.32xlarge</td>
</tr>
</tbody></table>

<h2 id="azure">Azure</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>A0</td>
<td>ExtraSmall</td>
</tr>
<tr>
<td>A1</td>
<td>Small</td>
</tr>
<tr>
<td>A2</td>
<td>Medium</td>
</tr>
<tr>
<td>A3</td>
<td>Large</td>
</tr>
<tr>
<td>A4</td>
<td>ExtraLarge</td>
</tr>
<tr>
<td>A5</td>
<td>A5</td>
</tr>
<tr>
<td>A6</td>
<td>A6</td>
</tr>
<tr>
<td>A7</td>
<td>A7</td>
</tr>
<tr>
<td>A8</td>
<td>A8</td>
</tr>
<tr>
<td>A9</td>
<td>A9</td>
</tr>
<tr>
<td>A10</td>
<td>A10</td>
</tr>
<tr>
<td>A11</td>
<td>A11</td>
</tr>
<tr>
<td>D1</td>
<td>Standard_D1</td>
</tr>
<tr>
<td>D2</td>
<td>Standard_D2</td>
</tr>
<tr>
<td>D3</td>
<td>Standard_D3</td>
</tr>
<tr>
<td>D4</td>
<td>Standard_D4</td>
</tr>
<tr>
<td>D11</td>
<td>Standard_D11</td>
</tr>
<tr>
<td>D12</td>
<td>Standard_D12</td>
</tr>
<tr>
<td>D13</td>
<td>Standard_D13</td>
</tr>
<tr>
<td>D14</td>
<td>Standard_D14</td>
</tr>
<tr>
<td>D1_v2</td>
<td>Standard_D1_v2</td>
</tr>
<tr>
<td>D2_v2</td>
<td>Standard_D2_v2</td>
</tr>
<tr>
<td>D3_v2</td>
<td>Standard_D3_v2</td>
</tr>
<tr>
<td>D4_v2</td>
<td>Standard_D4_v2</td>
</tr>
<tr>
<td>D5_v2</td>
<td>Standard_D5_v2</td>
</tr>
<tr>
<td>D11_v2</td>
<td>Standard_D11_v2</td>
</tr>
<tr>
<td>D12_v2</td>
<td>Standard_D12_v2</td>
</tr>
<tr>
<td>D13_v2</td>
<td>Standard_D13_v2</td>
</tr>
<tr>
<td>D14_v2</td>
<td>Standard_D14_v2</td>
</tr>
<tr>
<td>D15_v2</td>
<td>Standard_D15_v2</td>
</tr>
<tr>
<td>DS1</td>
<td>Standard_DS1</td>
</tr>
<tr>
<td>DS2</td>
<td>Standard_DS2</td>
</tr>
<tr>
<td>DS3</td>
<td>Standard_DS3</td>
</tr>
<tr>
<td>DS4</td>
<td>Standard_DS4</td>
</tr>
<tr>
<td>DS11</td>
<td>Standard_DS11</td>
</tr>
<tr>
<td>DS12</td>
<td>Standard_DS12</td>
</tr>
<tr>
<td>DS13</td>
<td>Standard_DS13</td>
</tr>
<tr>
<td>DS14</td>
<td>Standard_DS14</td>
</tr>
<tr>
<td>DS1_v2</td>
<td>Standard_DS1_v2</td>
</tr>
<tr>
<td>DS2_v2</td>
<td>Standard_DS2_v2</td>
</tr>
<tr>
<td>DS3_v2</td>
<td>Standard_DS3_v2</td>
</tr>
<tr>
<td>DS4_v2</td>
<td>Standard_DS4_v2</td>
</tr>
<tr>
<td>DS11_v2</td>
<td>Standard_DS11_v2</td>
</tr>
<tr>
<td>DS12_v2</td>
<td>Standard_DS12_v2</td>
</tr>
<tr>
<td>DS13_v2</td>
<td>Standard_DS13_v2</td>
</tr>
<tr>
<td>DS14_v2</td>
<td>Standard_DS14_v2</td>
</tr>
<tr>
<td>DS15_v2</td>
<td>Standard_DS15_v2</td>
</tr>
<tr>
<td>F1</td>
<td>Standard_F1</td>
</tr>
<tr>
<td>F2</td>
<td>Standard_F2</td>
</tr>
<tr>
<td>F4</td>
<td>Standard_F4</td>
</tr>
<tr>
<td>F8</td>
<td>Standard_F8</td>
</tr>
<tr>
<td>F16</td>
<td>Standard_F16</td>
</tr>
<tr>
<td>F1s</td>
<td>Standard_F1s</td>
</tr>
<tr>
<td>F2s</td>
<td>Standard_F2s</td>
</tr>
<tr>
<td>F4s</td>
<td>Standard_F4s</td>
</tr>
<tr>
<td>F8s</td>
<td>Standard_F8s</td>
</tr>
<tr>
<td>F16s</td>
<td>Standard_F16s</td>
</tr>
<tr>
<td>G1</td>
<td>Standard_G1</td>
</tr>
<tr>
<td>G2</td>
<td>Standard_G2</td>
</tr>
<tr>
<td>G3</td>
<td>Standard_G3</td>
</tr>
<tr>
<td>G4</td>
<td>Standard_G4</td>
</tr>
<tr>
<td>G5</td>
<td>Standard_G5</td>
</tr>
<tr>
<td>GS1</td>
<td>Standard_GS1</td>
</tr>
<tr>
<td>GS2</td>
<td>Standard_GS2</td>
</tr>
<tr>
<td>GS3</td>
<td>Standard_GS3</td>
</tr>
<tr>
<td>GS4</td>
<td>Standard_GS4</td>
</tr>
<tr>
<td>GS5</td>
<td>Standard_GS5</td>
</tr>
<tr>
<td>NV6</td>
<td>Standard_NV6</td>
</tr>
<tr>
<td>NV12</td>
<td>Standard_NV12</td>
</tr>
<tr>
<td>NV24</td>
<td>Standard_NV24</td>
</tr>
<tr>
<td>NC6</td>
<td>Standard_NC6</td>
</tr>
<tr>
<td>NC12</td>
<td>Standard_NC12</td>
</tr>
<tr>
<td>NC24</td>
<td>Standard_NC24</td>
</tr>
</tbody></table>

<h2 id="clouda-cloud">CloudA Cloud</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>512 MB - General Purpose</td>
<td>512 MB</td>
</tr>
<tr>
<td>1 GB - General Purpose</td>
<td>1 GB</td>
</tr>
<tr>
<td>2 GB - General Purpose</td>
<td>2 GB</td>
</tr>
<tr>
<td>4 GB - General Purpose</td>
<td>4 GB</td>
</tr>
<tr>
<td>8 GB - General Purpose</td>
<td>8 GB</td>
</tr>
<tr>
<td>16 GB - General Purpose</td>
<td>16 GB</td>
</tr>
<tr>
<td>32 GB - General Purpose</td>
<td>32 GB</td>
</tr>
<tr>
<td>8 GB - High Memory</td>
<td>8 GB - HM</td>
</tr>
<tr>
<td>16 GB - High Memory</td>
<td>16 GB - HM</td>
</tr>
<tr>
<td>32 GB - High Memory</td>
<td>32 GB - HM</td>
</tr>
<tr>
<td>4 GB - High Compute</td>
<td>4 GB - HC</td>
</tr>
<tr>
<td>8 GB - High Compute</td>
<td>8 GB - HC</td>
</tr>
<tr>
<td>16 GB - High Compute</td>
<td>16 GB - HC</td>
</tr>
</tbody></table>

<h2 id="digital-ocean">Digital Ocean</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>512MB - 1 CPU</td>
<td>512mb</td>
</tr>
<tr>
<td>1GB - 1 CPU</td>
<td>1gb</td>
</tr>
<tr>
<td>2GB - 2 CPU</td>
<td>2gb</td>
</tr>
<tr>
<td>4GB - 2 CPU</td>
<td>4gb</td>
</tr>
<tr>
<td>8GB - 4 CPU</td>
<td>8gb</td>
</tr>
<tr>
<td>16GB - 8 CPU</td>
<td>16gb</td>
</tr>
<tr>
<td>32GB - 12 CPU</td>
<td>32gb</td>
</tr>
<tr>
<td>48GB - 16 CPU</td>
<td>48gb</td>
</tr>
<tr>
<td>64GB - 20 CPU</td>
<td>64gb</td>
</tr>
</tbody></table>

<h2 id="google-compute-engine">Google Compute Engine</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>f1-micro</td>
<td>f1-micro</td>
</tr>
<tr>
<td>g1-small</td>
<td>g1-small</td>
</tr>
<tr>
<td>n1-highcpu-2</td>
<td>n1-highcpu-2</td>
</tr>
<tr>
<td>n1-highcpu-4</td>
<td>n1-highcpu-4</td>
</tr>
<tr>
<td>n1-highcpu-8</td>
<td>n1-highcpu-8</td>
</tr>
<tr>
<td>n1-highcpu-16</td>
<td>n1-highcpu-16</td>
</tr>
<tr>
<td>n1-highcpu-32</td>
<td>n1-highcpu-32</td>
</tr>
<tr>
<td>n1-highmem-2</td>
<td>n1-highmem-2</td>
</tr>
<tr>
<td>n1-highmem-4</td>
<td>n1-highmem-4</td>
</tr>
<tr>
<td>n1-highmem-8</td>
<td>n1-highmem-8</td>
</tr>
<tr>
<td>n1-highmem-16</td>
<td>n1-highmem-16</td>
</tr>
<tr>
<td>n1-highmem-32</td>
<td>n1-highmem-32</td>
</tr>
<tr>
<td>n1-standard-1</td>
<td>n1-standard-1</td>
</tr>
<tr>
<td>n1-standard-2</td>
<td>n1-standard-2</td>
</tr>
<tr>
<td>n1-standard-4</td>
<td>n1-standard-4</td>
</tr>
<tr>
<td>n1-standard-8</td>
<td>n1-standard-8</td>
</tr>
<tr>
<td>n1-standard-16</td>
<td>n1-standard-16</td>
</tr>
<tr>
<td>n1-standard-32</td>
<td>n1-standard-32</td>
</tr>
</tbody></table>

<h2 id="linode">Linode</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Linode 2048</td>
<td>Linode 2048</td>
</tr>
<tr>
<td>Linode 4096</td>
<td>Linode 4096</td>
</tr>
<tr>
<td>Linode 8192</td>
<td>Linode 8192</td>
</tr>
<tr>
<td>Linode 12288</td>
<td>Linode 12288</td>
</tr>
<tr>
<td>Linode 16384</td>
<td>Linode 16384</td>
</tr>
<tr>
<td>Linode 24576</td>
<td>Linode 24576</td>
</tr>
<tr>
<td>Linode 32768</td>
<td>Linode 32768</td>
</tr>
<tr>
<td>Linode 49152</td>
<td>Linode 49152</td>
</tr>
<tr>
<td>Linode 65536</td>
<td>Linode 65536</td>
</tr>
<tr>
<td>Linode 98304</td>
<td>Linode 98304</td>
</tr>
<tr>
<td>Linode 122880</td>
<td>Linode 122880</td>
</tr>
</tbody></table>

<h2 id="packet-cloud">Packet Cloud</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Type 0</td>
<td>baremetal_0</td>
</tr>
<tr>
<td>Type 1</td>
<td>baremetal_1</td>
</tr>
<tr>
<td>Type 3</td>
<td>baremetal_3</td>
</tr>
</tbody></table>

<h2 id="rackspace">Rackspace</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>512MB Standard Instance</td>
<td>512MB Standard Instance</td>
</tr>
<tr>
<td>1GB Standard Instance</td>
<td>1GB Standard Instance</td>
</tr>
<tr>
<td>2GB Standard Instance</td>
<td>2GB Standard Instance</td>
</tr>
<tr>
<td>4GB Standard Instance</td>
<td>4GB Standard Instance</td>
</tr>
<tr>
<td>8GB Standard Instance</td>
<td>8GB Standard Instance</td>
</tr>
<tr>
<td>15GB Standard Instance</td>
<td>15GB Standard Instance</td>
</tr>
<tr>
<td>30GB Standard Instance</td>
<td>30GB Standard Instance</td>
</tr>
<tr>
<td>3.75 GB Compute v1</td>
<td>3.75 GB Compute v1</td>
</tr>
<tr>
<td>7.5 GB Compute v1</td>
<td>7.5 GB Compute v1</td>
</tr>
<tr>
<td>15 GB Compute v1</td>
<td>15 GB Compute v1</td>
</tr>
<tr>
<td>30 GB Compute v1</td>
<td>30 GB Compute v1</td>
</tr>
<tr>
<td>60 GB Compute v1</td>
<td>60 GB Compute v1</td>
</tr>
<tr>
<td>1 GB General Purpose v1</td>
<td>1 GB General Purpose v1</td>
</tr>
<tr>
<td>2 GB General Purpose v1</td>
<td>2 GB General Purpose v1</td>
</tr>
<tr>
<td>4 GB General Purpose v1</td>
<td>4 GB General Purpose v1</td>
</tr>
<tr>
<td>8 GB General Purpose v1</td>
<td>8 GB General Purpose v1</td>
</tr>
<tr>
<td>15 GB I/O v1</td>
<td>15 GB I/O v1</td>
</tr>
<tr>
<td>30 GB I/O v1</td>
<td>30 GB I/O v1</td>
</tr>
<tr>
<td>60 GB I/O v1</td>
<td>60 GB I/O v1</td>
</tr>
<tr>
<td>90 GB I/O v1</td>
<td>90 GB I/O v1</td>
</tr>
<tr>
<td>120 GB I/O v1</td>
<td>120 GB I/O v1</td>
</tr>
<tr>
<td>15 GB Memory v1</td>
<td>15 GB Memory v1</td>
</tr>
<tr>
<td>30 GB Memory v1</td>
<td>30 GB Memory v1</td>
</tr>
<tr>
<td>60 GB Memory v1</td>
<td>60 GB Memory v1</td>
</tr>
<tr>
<td>120 GB Memory v1</td>
<td>120 GB Memory v1</td>
</tr>
<tr>
<td>240 GB Memory v1</td>
<td>240 GB Memory v1</td>
</tr>
<tr>
<td>1 GB Performance</td>
<td>1 GB Performance</td>
</tr>
<tr>
<td>2 GB Performance</td>
<td>2 GB Performance</td>
</tr>
<tr>
<td>4 GB Performance</td>
<td>4 GB Performance</td>
</tr>
<tr>
<td>8 GB Performance</td>
<td>8 GB Performance</td>
</tr>
<tr>
<td>15 GB Performance</td>
<td>15 GB Performance</td>
</tr>
<tr>
<td>30 GB Performance</td>
<td>30 GB Performance</td>
</tr>
<tr>
<td>60 GB Performance</td>
<td>60 GB Performance</td>
</tr>
<tr>
<td>90 GB Performance</td>
<td>90 GB Performance</td>
</tr>
<tr>
<td>120 GB Performance</td>
<td>120 GB Performance</td>
</tr>
</tbody></table>

<h2 id="vexxhost-cloud">Vexxhost Cloud</h2>

<table><thead>
<tr>
<th>Instance size</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>512MB</td>
<td>nb.512M</td>
</tr>
<tr>
<td>1GB</td>
<td>nb.1G</td>
</tr>
<tr>
<td>2GB</td>
<td>nb.2G</td>
</tr>
<tr>
<td>4GB</td>
<td>nb.4G</td>
</tr>
<tr>
<td>8GB</td>
<td>nb.8G</td>
</tr>
<tr>
<td>16GB</td>
<td>nb.16G</td>
</tr>
<tr>
<td>24GB</td>
<td>nb.24G</td>
</tr>
<tr>
<td>32GB</td>
<td>nb.32G</td>
</tr>
<tr>
<td>48GB</td>
<td>nb.48G</td>
</tr>
<tr>
<td>64GB</td>
<td>nb.64G</td>
</tr>
</tbody></table>

<h1 id="cloud-vendor-instance-regions">Cloud vendor instance regions</h1>

<h2 id="amazon-web-services">Amazon Web Services</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>US East (Northern Virginia)</td>
<td>us-east-1</td>
</tr>
<tr>
<td>US East (Ohio)</td>
<td>us-east-2</td>
</tr>
<tr>
<td>US West (Northern California)</td>
<td>us-west-1</td>
</tr>
<tr>
<td>US West (Oregon)</td>
<td>us-west-2</td>
</tr>
<tr>
<td>Canada (Central)</td>
<td>ca-central-1</td>
</tr>
<tr>
<td>South America (Sao Paulo, Brazil)</td>
<td>sa-east-1</td>
</tr>
<tr>
<td>Europe (Dublin, Ireland)</td>
<td>eu-west-1</td>
</tr>
<tr>
<td>Europe (London)</td>
<td>eu-west-2</td>
</tr>
<tr>
<td>Europe (Frankfurt)</td>
<td>eu-central-1</td>
</tr>
<tr>
<td>Asia Pacific (Tokyo)</td>
<td>ap-northeast-1</td>
</tr>
<tr>
<td>Asia Pacific (Seoul)</td>
<td>ap-northeast-2</td>
</tr>
<tr>
<td>Asia Pacific (Singapore)</td>
<td>ap-southeast-1</td>
</tr>
<tr>
<td>Asia Pacific (Sydney)</td>
<td>ap-southeast-2</td>
</tr>
<tr>
<td>Asia Pacific (Mumbai)</td>
<td>ap-south-1</td>
</tr>
</tbody></table>

<h2 id="azure">Azure</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Central US</td>
<td>Central US</td>
</tr>
<tr>
<td>East US</td>
<td>East US</td>
</tr>
<tr>
<td>East US 2</td>
<td>East US 2</td>
</tr>
<tr>
<td>North Central US</td>
<td>North Central US</td>
</tr>
<tr>
<td>South Central US</td>
<td>South Central US</td>
</tr>
<tr>
<td>West Central US</td>
<td>West Central US</td>
</tr>
<tr>
<td>West US</td>
<td>West US</td>
</tr>
<tr>
<td>West US 2</td>
<td>West US 2</td>
</tr>
<tr>
<td>Canada Central</td>
<td>Canada Central</td>
</tr>
<tr>
<td>Canada East</td>
<td>Canada East</td>
</tr>
<tr>
<td>North Europe</td>
<td>North Europe</td>
</tr>
<tr>
<td>West Europe</td>
<td>West Europe</td>
</tr>
<tr>
<td>East Asia</td>
<td>East Asia</td>
</tr>
<tr>
<td>Southeast Asia</td>
<td>Southeast Asia</td>
</tr>
<tr>
<td>Japan East</td>
<td>Japan East</td>
</tr>
<tr>
<td>Japan West</td>
<td>Japan West</td>
</tr>
<tr>
<td>Brazil South</td>
<td>Brazil South</td>
</tr>
<tr>
<td>Australia East</td>
<td>Australia East</td>
</tr>
<tr>
<td>Australia Southeast</td>
<td>Australia Southeast</td>
</tr>
</tbody></table>

<h2 id="clouda-cloud">CloudA Cloud</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>default</td>
<td>default</td>
</tr>
</tbody></table>

<h2 id="digital-ocean">Digital Ocean</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Amsterdam, Netherlands</td>
<td>ams1</td>
</tr>
<tr>
<td>Amsterdam, Netherlands (2nd Data Center)</td>
<td>ams2</td>
</tr>
<tr>
<td>Amsterdam, Netherlands (3rd Data Center)</td>
<td>ams3</td>
</tr>
<tr>
<td>Frankfurt, Germany</td>
<td>fra1</td>
</tr>
<tr>
<td>New York, US</td>
<td>nyc1</td>
</tr>
<tr>
<td>New York 2, US</td>
<td>nyc2</td>
</tr>
<tr>
<td>New York 3, US</td>
<td>nyc3</td>
</tr>
<tr>
<td>San Francisco, US</td>
<td>sfo1</td>
</tr>
<tr>
<td>Singapore</td>
<td>sgp1</td>
</tr>
<tr>
<td>London</td>
<td>lon1</td>
</tr>
</tbody></table>

<h2 id="google-compute-engine">Google Compute Engine</h2>

<table><thead>
<tr>
<th>Zone</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Eastern US (B)</td>
<td>us-east1-b</td>
</tr>
<tr>
<td>Eastern US &copy;</td>
<td>us-east1-c</td>
</tr>
<tr>
<td>Eastern US (D)</td>
<td>us-east1-d</td>
</tr>
<tr>
<td>Central US (A)</td>
<td>us-central1-a</td>
</tr>
<tr>
<td>Central US (B)</td>
<td>us-central1-b</td>
</tr>
<tr>
<td>Central US &copy;</td>
<td>us-central1-c</td>
</tr>
<tr>
<td>Central US (F)</td>
<td>us-central1-f</td>
</tr>
<tr>
<td>Western US (A)</td>
<td>us-west1-a</td>
</tr>
<tr>
<td>Western US (B)</td>
<td>us-west1-b</td>
</tr>
<tr>
<td>Western Europe (B)</td>
<td>europe-west1-b</td>
</tr>
<tr>
<td>Western Europe &copy;</td>
<td>europe-west1-c</td>
</tr>
<tr>
<td>Western Europe (D)</td>
<td>europe-west1-d</td>
</tr>
<tr>
<td>Eastern Asia (A)</td>
<td>asia-east1-a</td>
</tr>
<tr>
<td>Eastern Asia (B)</td>
<td>asia-east1-b</td>
</tr>
<tr>
<td>Eastern Asia &copy;</td>
<td>asia-east1-c</td>
</tr>
</tbody></table>

<h2 id="linode">Linode</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Atlanta, GA, USA</td>
<td>Atlanta, GA, USA</td>
</tr>
<tr>
<td>Dallas, TX, USA</td>
<td>Dallas, TX, USA</td>
</tr>
<tr>
<td>Frankfurt, DE</td>
<td>Frankfurt, DE</td>
</tr>
<tr>
<td>Fremont, CA, USA</td>
<td>Fremont, CA, USA</td>
</tr>
<tr>
<td>London, England, UK</td>
<td>London, England, UK</td>
</tr>
<tr>
<td>Newark, NJ, USA</td>
<td>Newark, NJ, USA</td>
</tr>
<tr>
<td>Tokyo, JP</td>
<td>Tokyo, JP</td>
</tr>
<tr>
<td>Singapore, SG</td>
<td>Singapore, SG</td>
</tr>
</tbody></table>

<h2 id="packet-cloud">Packet Cloud</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Parsippany, NJ</td>
<td>ewr1</td>
</tr>
</tbody></table>

<h2 id="rackspace">Rackspace</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Chicago</td>
<td>chicago</td>
</tr>
<tr>
<td>Dallas</td>
<td>dallas</td>
</tr>
<tr>
<td>Hong Kong</td>
<td>hong_kong</td>
</tr>
<tr>
<td>London</td>
<td>london</td>
</tr>
<tr>
<td>Northern Virginia</td>
<td>northern_virginia</td>
</tr>
<tr>
<td>Sydney</td>
<td>sydney</td>
</tr>
</tbody></table>

<h2 id="vexxhost-cloud">Vexxhost Cloud</h2>

<table><thead>
<tr>
<th>Region</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Montreal</td>
<td>default</td>
</tr>
</tbody></table>

          <h1 id="stacks">Stacks</h1>

<aside class="notice">
Most interactions with the Cloud 66 API are performed at the stack level. Using the Stacks resource, you can list stacks and view stack details, but you can only create, update, or delete stacks using the UI dashboard. However, new Docker-only stacks can also be created using API.
</aside>

<h3 id="methods">Methods</h3>

<p>Using the Stacks endpoint, you can submit requests using the following methods.</p>

<ul>
<li>List all stacks</li>
<li>View a stack</li>
<li>Create a new stack (Docker only)</li>
<li>List all stack actions</li>
<li>View a stack action</li>
<li>Perform a stack action</li>
</ul>

<h2 id="stack-list">Stack List</h2>
<pre class="highlight ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5999b763474b0eafa5fafb64bff0ba80"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Awesome App"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"git"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://github.com/cloud66-samples/awesome-app.git"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"git_branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fig"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cloud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DigitalOcean"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fqdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"awesome-app.dev.c66.me"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"framework"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rails"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"health"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_activity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T01:46:53+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_activity_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T01:46:53+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"maintenance_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"has_loadbalancer"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14 00:38:14 UTC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14 01:46:52 UTC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"deploy_directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/deploy/awesome_app"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cloud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"partial"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T00:38:14Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T01:46:52Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"redeploy_hook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hooks.cloud66.com/stacks/redeploy/b806f1c3344eb3aa2a024b23254b75b3/6d677352a6b2eefec6e345ee2b491521"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves a paged list of all the stack objects the user can access.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks</code></p>

<h3 id="the-stack-object">The stack object</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>string</td>
<td>The unique identifier of the stack.</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name defined for the stack.</td>
<td><code class="prettyprint">My Awesome App</code></td>
</tr>
<tr>
<td>git</td>
<td>string</td>
<td>The git repository URL associated with the stack.</td>
<td><code class="prettyprint">http://github.com/mysamples/awesome-app.git</code></td>
</tr>
<tr>
<td>git_branch</td>
<td>string</td>
<td>The git repository branch associated with the stack.</td>
<td><code class="prettyprint">fig</code></td>
</tr>
<tr>
<td>environment</td>
<td>string</td>
<td>The environment associated with the stack.</td>
<td><code class="prettyprint">production</code></td>
</tr>
<tr>
<td>cloud</td>
<td>string</td>
<td>The cloud provider associated with the stack.</td>
<td><code class="prettyprint">DigitalOcean</code></td>
</tr>
<tr>
<td>fqdn</td>
<td>string</td>
<td>The fully qualified namespace of the stack.</td>
<td><code class="prettyprint">awesome-app.dev.c66.me</code></td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>The programming language of the stack.</td>
<td><code class="prettyprint">ruby</code></td>
</tr>
<tr>
<td>framework</td>
<td>string</td>
<td>The framework used for the stack.</td>
<td><code class="prettyprint">rails</code></td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>The current status code for the stack.</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>health</td>
<td>int</td>
<td>The current health code for the stack.</td>
<td><code class="prettyprint">3</code></td>
</tr>
<tr>
<td>last_activity</td>
<td>datetime</td>
<td>The date and time the last action was performed for the stack, in UTC datetime.</td>
<td><code class="prettyprint">2014-08-14T01:46:53+00:00</code></td>
</tr>
<tr>
<td>last_activity_iso</td>
<td>datetime</td>
<td>The date and time the last action was performed for the stack, in UTC datetime</td>
<td><code class="prettyprint">2014-08-14T01:46:53+00:00</code></td>
</tr>
<tr>
<td>maintenance mode</td>
<td>bool</td>
<td>Whether the stack currently has maintenance mode enabled.</td>
<td><code class="prettyprint">false</code></td>
</tr>
<tr>
<td>has_loadbalancer</td>
<td>bool</td>
<td>Whether the stack has an associated load balancer add-in.</td>
<td><code class="prettyprint">false</code></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The date and time the stack was created, in iso8601 format</td>
<td><code class="prettyprint">2014-09-01T19:08:05Z</code></td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The date and time the stack was last modified, in iso8601 format</td>
<td><code class="prettyprint">2014-09-01T19:18:05Z</code></td>
</tr>
<tr>
<td>deploy_directory</td>
<td>string</td>
<td>The target directory for stack deployment.</td>
<td><code class="prettyprint">/var/deploy/awesome_app</code></td>
</tr>
<tr>
<td>cloud_status</td>
<td>string</td>
<td>The current cloud provider status associated with the stack.</td>
<td><code class="prettyprint">partial</code></td>
</tr>
<tr>
<td>redeploy_hook</td>
<td>string</td>
<td>If applicable, the deploy hook URL associated with the stack.</td>
<td><code class="prettyprint">http://hooks.cloud66.com/stacks/redeploy/ b806f1c3344eb3aa2a024b23254b75b3/6d677352a6b2eefec6e345ee2b491521</code></td>
</tr>
</tbody></table>

<h2 id="stack">Stack</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
</span><span class="nt">"response"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5999b763474b0eafa5fafb64bff0ba80"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Awesome App"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"git"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://github.com/cloud66-samples/awesome-app.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"git_branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fig"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cloud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DigitalOcean"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fqdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"awesome-app.dev.c66.me"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"framework"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rails"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_activity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T01:46:53+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_activity_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T01:46:53+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"maintenance_mode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"has_loadbalancer"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14 00:38:14 UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14 01:46:52 UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deploy_directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/deploy/awesome_app"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cloud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"partial"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T00:38:14Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-14T01:46:52Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redeploy_hook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hooks.cloud66.com/stacks/redeploy/b806f1c3344eb3aa2a024b23254b75b3/6d677352a6b2eefec6e345ee2b491521"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the details of the stack specified in the request.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the stack</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h3 id="stack-status-values">Stack status values</h3>

<table><thead>
<tr>
<th>Status</th>
<th style="text-align: center">Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>STK_QUEUED</td>
<td style="text-align: center">0</td>
<td>Pending analysis</td>
</tr>
<tr>
<td>STK_SUCCESS</td>
<td style="text-align: center">1</td>
<td>Deployed successfully</td>
</tr>
<tr>
<td>STK_FAILED</td>
<td style="text-align: center">2</td>
<td>Deployment failed</td>
</tr>
<tr>
<td>STK_ANALYSING</td>
<td style="text-align: center">3</td>
<td>Analyzing</td>
</tr>
<tr>
<td>STK_ANALYSED</td>
<td style="text-align: center">4</td>
<td>Analyzed</td>
</tr>
<tr>
<td>STK_QUEUED_FOR_DEPLOYING</td>
<td style="text-align: center">5</td>
<td>Queued for deployment</td>
</tr>
<tr>
<td>STK_DEPLOYING</td>
<td style="text-align: center">6</td>
<td>Deploying</td>
</tr>
<tr>
<td>STK_TERMINAL_FAILURE</td>
<td style="text-align: center">7</td>
<td>Unable to analyze</td>
</tr>
</tbody></table>

<h3 id="stack-health-status-values">Stack health status values</h3>

<table><thead>
<tr>
<th>Status</th>
<th style="text-align: center">Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>HLT_UNKNOWN</td>
<td style="text-align: center">0</td>
<td>Unknown</td>
</tr>
<tr>
<td>HLT_BUILDING</td>
<td style="text-align: center">1</td>
<td>Building</td>
</tr>
<tr>
<td>HLT_PARTIAL</td>
<td style="text-align: center">2</td>
<td>Impaired</td>
</tr>
<tr>
<td>HLT_OK</td>
<td style="text-align: center">3</td>
<td>Healthy</td>
</tr>
<tr>
<td>HLT_BROKEN</td>
<td style="text-align: center">4</td>
<td>Failed</td>
</tr>
</tbody></table>

<h2 id="stack-create">Stack Create</h2>
<pre class="highlight ruby"><code><span class="n">service_file</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="s1">'path/to/service.yml'</span><span class="p">)</span>
<span class="n">manifest_file</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="s1">'path/to/manifest.yml'</span><span class="p">)</span>

<span class="c1">#Using manifest.yml</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'new_stack_name'</span><span class="p">,</span> <span class="ss">:environment</span> <span class="o">=&gt;</span> <span class="s1">'production'</span><span class="p">,</span> <span class="ss">:service_yaml</span> <span class="o">=&gt;</span> <span class="n">service_file</span><span class="p">,</span> <span class="ss">:manifest_yaml</span> <span class="o">=&gt;</span> <span class="n">manifest_file</span><span class="p">}})</span>

<span class="c1">#Using separate parameters</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'new_stack_name'</span><span class="p">,</span> <span class="ss">:environment</span> <span class="o">=&gt;</span> <span class="s1">'production'</span><span class="p">,</span> <span class="ss">:service_yaml</span> <span class="o">=&gt;</span> <span class="n">service_file</span><span class="p">,</span> <span class="ss">:cloud</span> <span class="o">=&gt;</span> <span class="s1">'digitalocean'</span><span class="p">,</span> <span class="ss">:region</span> <span class="o">=&gt;</span> <span class="s1">'ams1'</span><span class="p">,</span> <span class="ss">:size</span> <span class="o">=&gt;</span> <span class="s1">'1gb'</span><span class="p">,</span> <span class="ss">:build_type</span> <span class="o">=&gt;</span> <span class="s1">'single'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w"> </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"stack_create"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2015-09-01T19:08:05Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create and build a new docker stack. Either manifest definition, or <code class="prettyprint">cloud</code>, <code class="prettyprint">region</code>, <code class="prettyprint">size</code> and <code class="prettyprint">build_type</code> must be passed as params.</p>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><strong>required</strong></td>
<td>string</td>
<td>New stack name</td>
<td><code class="prettyprint">new_stack_name</code></td>
</tr>
<tr>
<td>environment</td>
<td><strong>required</strong></td>
<td>string</td>
<td>New stack environment</td>
<td><code class="prettyprint">production</code></td>
</tr>
<tr>
<td>service_yaml</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The services definition of the new docker stack</td>
<td><code class="prettyprint">service_yaml_serialised</code></td>
</tr>
<tr>
<td>manifest_yaml</td>
<td>optional</td>
<td>string</td>
<td>The manifest definition of the new docker stack</td>
<td><code class="prettyprint">manifest_yaml_serialised</code></td>
</tr>
<tr>
<td>cloud</td>
<td>optional</td>
<td>string</td>
<td>Cloud provider to create servers in</td>
<td><code class="prettyprint">aws</code></td>
</tr>
<tr>
<td>key_name</td>
<td>optional</td>
<td>string</td>
<td>Name of the cloud provider key (<code class="prettyprint">Default</code> or first available key for the cloud if not specified)</td>
<td><code class="prettyprint">my_key</code></td>
</tr>
<tr>
<td>region</td>
<td>optional</td>
<td>string</td>
<td>Region within the cloud to create servers in</td>
<td><code class="prettyprint">us-east-1</code></td>
</tr>
<tr>
<td>size</td>
<td>optional</td>
<td>string</td>
<td>Size of the server</td>
<td><code class="prettyprint">t1.micro</code></td>
</tr>
<tr>
<td>build_type</td>
<td>optional</td>
<td>string</td>
<td>Deploy all services to <code class="prettyprint">single</code> or <code class="prettyprint">multi</code> servers</td>
<td><code class="prettyprint">multi</code></td>
</tr>
</tbody></table>

<h2 id="stack-action-list">Stack Action list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/actions.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/actions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
        </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"clear_caches"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"2014-09-01T19:08:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="s2">"2014-09-01T19:08:09Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a paged list of all asynchronous actions performed for the stack specified in the request.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/actions</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the stack</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h3 id="the-stack-action-object">The stack action object</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>The numeric identifier of the stack action. Identifiers increment by one for each performed action.</td>
<td><code class="prettyprint">10</code></td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>The email address of the user who performed the stack action.</td>
<td><code class="prettyprint">hello@cloud66.com</code></td>
</tr>
<tr>
<td>resource_type</td>
<td>string</td>
<td>The resource for which the action was performed, which is <code class="prettyprint">stack</code> in this case.</td>
<td><code class="prettyprint">stack</code></td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>The action that was performed for the stack.</td>
<td><code class="prettyprint">restart</code></td>
</tr>
<tr>
<td>resource_id</td>
<td>int</td>
<td>The unique ID of the resource</td>
<td><code class="prettyprint">283</code></td>
</tr>
<tr>
<td>started_via</td>
<td>string</td>
<td>The process that initiated the action, which is the UI, API, or command line.</td>
<td><code class="prettyprint">api</code></td>
</tr>
<tr>
<td>started_at</td>
<td>datetime</td>
<td>The date and time the action was initiated, in UTC datetime.</td>
<td><code class="prettyprint">2014-09-01T19:08:05Z</code></td>
</tr>
<tr>
<td>finished_at</td>
<td>datetime</td>
<td>The date and time the action was completed, in UTC datetime.</td>
<td><code class="prettyprint">2014-09-01T19:08:09Z</code></td>
</tr>
<tr>
<td>finished_success</td>
<td>bool</td>
<td>Whether the action completed successfully.</td>
<td><code class="prettyprint">true</code></td>
</tr>
<tr>
<td>finished_message</td>
<td>string</td>
<td>If applicable, the system message associated with the completed action.</td>
<td><code class="prettyprint">null</code></td>
</tr>
</tbody></table>

<h2 id="stack-action">Stack Action</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'202161'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/actions/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/actions/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"clear_caches"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"2014-09-01T19:08:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="s2">"2014-09-01T19:08:09Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the details of an asynchronous action performed for the the stack specified in the request based on the supplied action ID.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/actions/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the stack</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Identifier of the asynchronous action</td>
<td><code class="prettyprint">4153</code></td>
</tr>
</tbody></table>

<h2 id="run-stack-action">Run Stack action</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/actions.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:command</span> <span class="o">=&gt;</span> <span class="s1">'clear_caches'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/actions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"clear_caches"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2014-09-01T19:08:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Perform an asynchronous action for the stack specified in the request. You can use this method to restart the stack, clear the stack&rsquo;s cache, or enable maintenance mode.</p>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/actions</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the stack</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>command</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The action to perform for the stack. Valid values are <code class="prettyprint">clear_caches</code>, <code class="prettyprint">maintenance_mode</code>, and <code class="prettyprint">restart</code>.</td>
<td><code class="prettyprint">restart</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Command</th>
<th>Comments</th>
<th>Extra Parameters</th>
</tr>
</thead><tbody>
<tr>
<td>maintenance_mode</td>
<td>Enable to Disable maintenance mode for a stack.</td>
<td><ul><li><code class="prettyprint">value</code>:<code class="prettyprint">1</code> for enable or <code class="prettyprint">0</code> for disable</li></ul></td>
</tr>
<tr>
<td>clear_caches</td>
<td>Clear git caches for the stack</td>
<td>None</td>
</tr>
<tr>
<td>restart</td>
<td>Restarts all stack components (nginx, db, etc.)</td>
<td>None</td>
</tr>
<tr>
<td>promote_slave_db</td>
<td>Promote the specified slave database server to a standalone master</td>
<td><ul><li><code class="prettyprint">server</code>:<code class="prettyprint">server-name</code></li><li><code class="prettyprint">server_group</code>: valid values <code class="prettyprint">all</code>, <code class="prettyprint">mysql</code>, <code class="prettyprint">postgresql</code>, <code class="prettyprint">redis</code>, <code class="prettyprint">mongodb</code></li></ul></td>
</tr>
<tr>
<td>resync_slave_db</td>
<td>Re-sync the specified slave database server with its master database server</td>
<td><ul><li><code class="prettyprint">server</code>:<code class="prettyprint">server-name</code></li><li><code class="prettyprint">server_group</code>: valid values <code class="prettyprint">all</code>, <code class="prettyprint">mysql</code>, <code class="prettyprint">postgresql</code>, <code class="prettyprint">redis</code>, <code class="prettyprint">mongodb</code></li></ul></td>
</tr>
<tr>
<td>container_restart</td>
<td>Restarts a particular container on the given stack</td>
<td><ul><li><code class="prettyprint">container</code>:<code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></li></ul></td>
</tr>
<tr>
<td>service_restart</td>
<td>Restarts all the containers from the given service</td>
<td><ul><li><code class="prettyprint">service_name</code>:<code class="prettyprint">web</code></li><li><code class="prettyprint">server_id_filter</code>:<code class="prettyprint">f8468fc145ea49bac474b30a8fea888d</code> (optional) </li></ul></td>
</tr>
</tbody></table>

<h2 id="reboot-the-stack">Reboot the Stack</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/reboot_servers.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/reboot_servers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"stack_reboot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2016-01-01T19:08:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can use this method to reboot the stack or speific server group of a stack.</p>

<aside class="notice">
<b>Scope:</b> <i>reboot</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/reboot_servers</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the stack</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>strategy</td>
<td><strong>required</strong></td>
<td>string</td>
<td>parallel or serial</td>
<td><code class="prettyprint">parallel</code></td>
</tr>
<tr>
<td>group</td>
<td><strong>optional</strong></td>
<td>string</td>
<td>all or web/db/redis etc (default is web)</td>
<td><code class="prettyprint">mysql</code></td>
</tr>
</tbody></table>

          <h1 id="processes">Processes</h1>

<h2 id="processes-list">Processes list</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/processes.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/processes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"md5"</span><span class="p">:</span><span class="s2">"5999b763474b0eafa5fafb64bff0ba80"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"worker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="s2">"bundle exec rake jobs:work"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"servers"</span><span class="p">:{</span><span class="nt">"server_name"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"md5"</span><span class="p">:</span><span class="s2">"1230fd91f8c9e4e56c1b14dd0391702"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"scheduler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="s2">"bundle exec rake jobs:schedule"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"servers"</span><span class="p">:{</span><span class="nt">"server_name"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all processes of stack.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/processes</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_uid</td>
<td>optional</td>
<td>integer</td>
<td>server UID</td>
<td><code class="prettyprint">e63e859d5ab72b0bcf14321f0ffb013d</code></td>
</tr>
</tbody></table>

<h2 id="process-single-one">Process Single one</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">4153</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/processes.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/processes/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"md5"</span><span class="p">:</span><span class="s2">"5999b763474b0eafa5fafb64bff0ba80"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"worker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="s2">"bundle exec rake jobs:work"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"servers"</span><span class="p">:{</span><span class="nt">"server_name1"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"md5"</span><span class="p">:</span><span class="s2">"1230fd91f8c9e4e56c1b14dd0391702"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"scheduler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="s2">"bundle exec rake jobs:schedule"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"servers"</span><span class="p">:{</span><span class="nt">"server_name1"</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information about a single process.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/processes/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Process Name</td>
<td><code class="prettyprint">worker</code></td>
</tr>
<tr>
<td>server_uid</td>
<td><strong>optional</strong></td>
<td>integer</td>
<td>Server ID</td>
<td><code class="prettyprint">e63e859d5ab72b0bcf14321f0ffb013d</code></td>
</tr>
</tbody></table>

<h2 id="scale-a-process">Scale a Process</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/processes.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/processes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"Process_scale"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2016-01-01T19:08:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Scale up a process.</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/processes</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>process_name</td>
<td><strong>required</strong></td>
<td>string</td>
<td>process name</td>
<td><code class="prettyprint">scheduler</code></td>
</tr>
<tr>
<td>server_count</td>
<td><strong>required</strong></td>
<td>string</td>
<td>hash of {server_uid:count}</td>
<td><code class="prettyprint">e63e859d5ab72b0bcf14321f0ffb013d:4</code></td>
</tr>
</tbody></table>

          <h1 id="deployments">Deployments</h1>

<h2 id="deployment-list">Deployment list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/deployments.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/deployments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">107</span><span class="p">,</span><span class="w">
      </span><span class="nt">"triggered_by"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"triggered_via"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meaning"</span><span class="p">:</span><span class="s2">"web"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:46:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"outcome"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meaning"</span><span class="p">:</span><span class="s2">"success"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"git_hash"</span><span class="p">:</span><span class="s2">"5675fcd8f9e6dc534ecf1410c0661c066097e310"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deploy_session"</span><span class="p">:</span><span class="s2">"OhBHNzkXSl"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deploy_type"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meaning"</span><span class="p">:</span><span class="s2">"build"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"is_head"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reverted"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reverted_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reverted_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_deploying"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"commit_url"</span><span class="p">:</span><span class="s2">"https://github.com/cloud66-samples/rails-test/commit/5675fcd8f9e6dc534ecf1410c0661c066097e310"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all deployments of a stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/deployments</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="deployment">Deployment</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'3608'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/deployments/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/deployments/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">107</span><span class="p">,</span><span class="w">
      </span><span class="nt">"triggered_by"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"triggered_via"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meaning"</span><span class="p">:</span><span class="s2">"web"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:46:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"outcome"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meaning"</span><span class="p">:</span><span class="s2">"success"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"git_hash"</span><span class="p">:</span><span class="s2">"5675fcd8f9e6dc534ecf1410c0661c066097e310"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deploy_session"</span><span class="p">:</span><span class="s2">"OhBHNzkXSl"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deploy_type"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meaning"</span><span class="p">:</span><span class="s2">"build"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"is_head"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reverted"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reverted_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reverted_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_deploying"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"commit_url"</span><span class="p">:</span><span class="s2">"https://github.com/cloud66-samples/rails-test/commit/5675fcd8f9e6dc534ecf1410c0661c066097e310"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single deployment</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/deployments/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The deployment ID</td>
<td><code class="prettyprint">107</code></td>
</tr>
</tbody></table>

<h2 id="redeploy">Redeploy</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/deployments.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/deployments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"ok"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Stack queued for redeployment"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Redeploy a stack</p>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/deployments</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>git_ref</td>
<td>optional</td>
<td>string</td>
<td>Git reference (branch, tag or hash). Non-docker only.</td>
<td><code class="prettyprint">a_git_tag_or_hash</code></td>
</tr>
<tr>
<td>services_filter</td>
<td>optional</td>
<td>string</td>
<td>Services from your stack to deploy only. Docker only.</td>
<td><code class="prettyprint">service1,service2</code></td>
</tr>
</tbody></table>

<h2 id="cancel-deployment">Cancel deployment</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'3649'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/deployments/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/stacks/{stack_id}/deployments/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"ok"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Cancelling deployment"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Cancel a live stack deployment</p>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /stacks/{stack_id}/deployments/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The deployment ID</td>
<td><code class="prettyprint">112</code></td>
</tr>
</tbody></table>

          <h1 id="services">Services</h1>

<h2 id="services-list">Services list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/services.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/services</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1339d2dfa5a86dfce497f8f2e1bb29492f246288c722d11c8e6fc9348bfeece6"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edfbd7a9b97e999ebf17984282d4b457"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"server_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cormorant"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"service_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quay.io/cloud66/sample-rails"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"port_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"5128:3000\"]"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rackup -p 3000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T09:59:45Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"web_ports"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80:443"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T09:59:45Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T09:59:48Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a list of all services of the stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/services</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_uid</td>
<td>optional</td>
<td>string</td>
<td>Server UID</td>
<td><code class="prettyprint">1239b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="service-show">Service show</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'ec28beaa0e324c21ab2f9c5a153189a2'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'web'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/services/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/services/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1339d233a5a86dfce497f8f2e1bb29492f246288c722d11c8e6fc9348bfeece6"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1239b763474b0eafa5fafb64bff0ba80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"server_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cormorant"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"service_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quay.io/cloud66/sample-rails"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"port_list"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"5128:3000\"]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rackup -p 3000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T09:59:45Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"web_ports"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80:443"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T09:59:45Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T09:59:48Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a service of the stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/services/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The service name</td>
<td><code class="prettyprint">web</code></td>
</tr>
<tr>
<td>server_uid</td>
<td>optional</td>
<td>string</td>
<td>Server UID</td>
<td><code class="prettyprint">1239b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="service-scale">Service scale</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'ec28beaa0e324c21ab2f9c5a153189a2'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'web'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/services.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:service_name</span> <span class="o">=&gt;</span> <span class="nb">id</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/services</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"theuser@yourdomain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service_scale"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15633"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_via"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T11:36:58Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Scale the given service over the stack</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/services</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>service_name</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The service name</td>
<td><code class="prettyprint">web</code></td>
</tr>
<tr>
<td>server_count</td>
<td>optional</td>
<td>string</td>
<td>A hash of server uid to count of containers desired on that server</td>
<td><code class="prettyprint">{&quot;123123cfcb7d3d2b54614b19e2a6c673&quot;:2}</code></td>
</tr>
<tr>
<td>server_group_count</td>
<td>optional</td>
<td>string</td>
<td>A hash of server_group to count of containers across the servers of that group</td>
<td><code class="prettyprint">{&quot;web&quot;:4}</code></td>
</tr>
</tbody></table>

<h2 id="service-stop">Service stop</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'ec28beaa0e324c21ab2f9c5a153189a2'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'web'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/services/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/stacks/{stack_id}/services/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"theuser@yourdomain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service_stop"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15633"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_via"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T11:36:58Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Stop all of the given service on the stack (across all servers, unless <code class="prettyprint">server_uid</code> is supplied)</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /stacks/{stack_id}/services/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The service name</td>
<td><code class="prettyprint">web</code></td>
</tr>
<tr>
<td>server_uid</td>
<td>optional</td>
<td>string</td>
<td>Server UID</td>
<td><code class="prettyprint">1239b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

          <h1 id="containers">Containers</h1>

<h2 id="containers-list">Containers list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/containers.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/containers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"uid"</span><span class="p">:</span><span class="s2">"cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="s2">"c6014897b8c8e9f2fc204a3a9efdae05"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"server_name"</span><span class="p">:</span><span class="s2">"Gazelle"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"service_name"</span><span class="p">:</span><span class="s2">"web"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"image"</span><span class="p">:</span><span class="s2">"quay.io/cloud66/sample-rails"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"command"</span><span class="p">:</span><span class="s2">"bundle exec rackup -p 3000"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2015-02-10T17:41:31Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"ports"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"container"</span><span class="p">:</span><span class="mi">3000</span><span class="p">,</span><span class="w">
               </span><span class="nt">"http"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
               </span><span class="nt">"https"</span><span class="p">:</span><span class="mi">443</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"private_ip"</span><span class="p">:</span><span class="s2">"25.0.0.2"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"docker_ip"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
         </span><span class="nt">"health_state"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nt">"health_message"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
         </span><span class="nt">"health_source"</span><span class="p">:</span><span class="s2">"system"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"capture_output"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"restart_on_deploy"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2015-02-10T17:41:37Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2015-02-17T14:40:17Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nt">"pagination"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a list of all the containers of the stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/containers</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_uid</td>
<td>optional</td>
<td>string</td>
<td>Server UID</td>
<td><code class="prettyprint">c6014897b8c8e9f2fc204a3a9efdae05</code></td>
</tr>
</tbody></table>

<h2 id="container-show">Container show</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'ec28beaa0e324c21ab2f9c5a153189a2'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/containers/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/containers/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"uid"</span><span class="p">:</span><span class="s2">"cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="s2">"c6014897b8c8e9f2fc204a3a9efdae05"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_name"</span><span class="p">:</span><span class="s2">"Gazelle"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"service_name"</span><span class="p">:</span><span class="s2">"web"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="s2">"quay.io/cloud66/sample-rails"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="s2">"bundle exec rackup -p 3000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2015-02-10T17:41:31Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ports"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"container"</span><span class="p">:</span><span class="mi">3000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"http"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
            </span><span class="nt">"https"</span><span class="p">:</span><span class="mi">443</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"private_ip"</span><span class="p">:</span><span class="s2">"25.0.0.2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"docker_ip"</span><span class="p">:</span><span class="s2">"172.0.2.12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_state"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_message"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_source"</span><span class="p">:</span><span class="s2">"system"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"capture_output"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restart_on_deploy"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2015-02-10T17:41:37Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2015-02-17T14:40:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"runtime"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"AppArmorProfile"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nt">"Args"</span><span class="p">:[</span><span class="w">
            </span><span class="s2">"bundle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rackup"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"-p"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"3000"</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"Config"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"AttachStderr"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"AttachStdin"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"AttachStdout"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Cmd"</span><span class="p">:[</span><span class="w">
               </span><span class="s2">"bundle"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"rackup"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"-p"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"3000"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"CpuShares"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Cpuset"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Domainname"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Entrypoint"</span><span class="p">:[</span><span class="w">
               </span><span class="s2">"/etc/cloud66/tools/docker_network.sh"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"Env"</span><span class="p">:[</span><span class="w">
               </span><span class="s2">"STACK_GIT_BRANCH="</span><span class="p">,</span><span class="w">
               </span><span class="s2">"STACK_PATH=/var/deploy/lv_dev_service_download/web_head/current"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"STACK_BASE=/var/deploy/lv_dev_service_download/web_head"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"SECRET_KEY_BASE=f30c0e5da0cb4467e4cae0f315a664d023b1782f791e682dbe2dc100d3b010cd6b3d899c01138470c10892cf31732b7bb83a31b4907296ad985e8f55663629c1"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"WEB_ADDRESS_INT=10.132.130.135"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"WEB_ADDRESS_EXT=104.236.242.128"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"WEB_ADDRESSES_INT=10.132.130.135"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"WEB_ADDRESSES_EXT=104.236.242.128"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_USERNAME=uacru9"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_PASSWORD=FBfgULSTlfjruP3"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_DATABASE=lv_dev_service_download_production"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_ADDRESS_INT=10.132.130.135"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_ADDRESS_EXT=104.236.242.128"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_URL_INT=mysql://uacru9:FBfgULSTlfjruP3@10.132.130.135:3306/lv_dev_service_download_production"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_URL_EXT=mysql://uacru9:FBfgULSTlfjruP3@104.236.242.128:3306/lv_dev_service_download_production"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_SLAVE_ADDRESSES_INT="</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_SLAVE_ADDRESSES_EXT="</span><span class="p">,</span><span class="w">
               </span><span class="s2">"WEB_ADDRESS=10.132.130.135"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"WEB_ADDRESSES=10.132.130.135"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_ADDRESS=10.132.130.135"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_URL=mysql://uacru9:FBfgULSTlfjruP3@10.132.130.135:3306/lv_dev_service_download_production"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"MYSQL_SLAVE_ADDRESSES="</span><span class="p">,</span><span class="w">
               </span><span class="s2">"SERVER_NAME=Gazelle"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"PRIMARY=true"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"CONTAINER_NOTIFY_URL=http://vic.local.cldblx.com/stacks/87bc318604208618a01817bf4442befb/servers/c6014897b8c8e9f2fc204a3a9efdae05/services/web/notification/4911055bcf0b5d7a31ebfbdff4043c31"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"RUBY_MAJOR=2.1"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"RUBY_VERSION=2.1.3"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"ExposedPorts"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"3000/tcp"</span><span class="p">:{</span><span class="w">

               </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"Hostname"</span><span class="p">:</span><span class="s2">"cba44fa6b6ac"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="s2">"quay.io/cloud66/sample-rails"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"MacAddress"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Memory"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"MemorySwap"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"NetworkDisabled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"OnBuild"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"OpenStdin"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"PortSpecs"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"StdinOnce"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Tty"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"User"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Volumes"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"WorkingDir"</span><span class="p">:</span><span class="s2">"/usr/src/app"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"Created"</span><span class="p">:</span><span class="s2">"2015-02-10T17:41:36.988310784Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"Driver"</span><span class="p">:</span><span class="s2">"aufs"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"ExecDriver"</span><span class="p">:</span><span class="s2">"native-0.2"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"HostConfig"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"Binds"</span><span class="p">:[</span><span class="w">
               </span><span class="s2">"/etc/cloud66/tools:/etc/cloud66/tools"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"/var/log/containers:/usr/src/app/log"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"/tmp:/tmp_host:rw"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"CapAdd"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"CapDrop"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ContainerIDFile"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Devices"</span><span class="p">:[</span><span class="w">

            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"Dns"</span><span class="p">:[</span><span class="w">
               </span><span class="s2">"172.17.42.1"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"DnsSearch"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ExtraHosts"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"IpcMode"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Links"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"LxcConf"</span><span class="p">:[</span><span class="w">

            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"NetworkMode"</span><span class="p">:</span><span class="s2">"bridge"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"PortBindings"</span><span class="p">:{</span><span class="w">

            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"Privileged"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"PublishAllPorts"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"RestartPolicy"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"MaximumRetryCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="nt">"Name"</span><span class="p">:</span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"SecurityOpt"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"VolumesFrom"</span><span class="p">:</span><span class="kc">null</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"HostnamePath"</span><span class="p">:</span><span class="s2">"/var/lib/docker/containers/cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc/hostname"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"HostsPath"</span><span class="p">:</span><span class="s2">"/var/lib/docker/containers/cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc/hosts"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"Id"</span><span class="p">:</span><span class="s2">"cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"Image"</span><span class="p">:</span><span class="s2">"f3443abc9c9e1595d1e039bf0c060f259d318e57910a80efee2e34895b10e749"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"MountLabel"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nt">"Name"</span><span class="p">:</span><span class="s2">"/stoic_nobel"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"NetworkSettings"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"Bridge"</span><span class="p">:</span><span class="s2">"docker0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Gateway"</span><span class="p">:</span><span class="s2">"172.17.42.1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"IPAddress"</span><span class="p">:</span><span class="s2">"172.17.0.4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"IPPrefixLen"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
            </span><span class="nt">"MacAddress"</span><span class="p">:</span><span class="s2">"02:42:ac:11:00:04"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"PortMapping"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Ports"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"3000/tcp"</span><span class="p">:</span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"Path"</span><span class="p">:</span><span class="s2">"/etc/cloud66/tools/docker_network.sh"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"ProcessLabel"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nt">"ResolvConfPath"</span><span class="p">:</span><span class="s2">"/var/lib/docker/containers/cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc/resolv.conf"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"State"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"Error"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ExitCode"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"FinishedAt"</span><span class="p">:</span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"OOMKilled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Paused"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Pid"</span><span class="p">:</span><span class="mi">25739</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Restarting"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Running"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"StartedAt"</span><span class="p">:</span><span class="s2">"2015-02-10T17:41:37.915288589Z"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"Volumes"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"/etc/cloud66/tools"</span><span class="p">:</span><span class="s2">"/etc/cloud66/tools"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"/tmp_host"</span><span class="p">:</span><span class="s2">"/tmp"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"/usr/src/app/log"</span><span class="p">:</span><span class="s2">"/var/log/containers"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"VolumesRW"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"/etc/cloud66/tools"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"/tmp_host"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"/usr/src/app/log"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a container of the stack (includes container runtime information)</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/containers/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The container UID</td>
<td><code class="prettyprint">cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc</code></td>
</tr>
</tbody></table>

<h2 id="container-stop">Container stop</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'ec28beaa0e324c21ab2f9c5a153189a2'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/containers/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/stacks/{stack_id}/containers/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"theuser@yourdomain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"container_stop"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15633"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_via"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-30T11:36:58Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Stop the given container</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /stacks/{stack_id}/containers/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The container UID</td>
<td><code class="prettyprint">cba44fa6b6acf57fb0ef6c2ce385f6a129867df544dae7181d2410e9f9cc32bc</code></td>
</tr>
</tbody></table>

          <h1 id="docker-image-repositories">Docker Image Repositories</h1>

<h2 id="docker-image-repository-list">Docker Image Repository list</h2>
<pre class="highlight ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/image_repositories.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/image_repositories</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://quay.io"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud66"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kickass@company.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:29:51Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:29:51Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://index.dockerub.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud66"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eng@company.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all Docker image repositories for an account</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /image_repositories</code></p>

<h2 id="docker-image-repository">Docker Image Repository</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/image_repositories/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/image_repositories/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://index.dockerub.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud66"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eng@company.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single Docker image repository</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /image_repositories/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The Docker image repository ID</td>
<td><code class="prettyprint">3</code></td>
</tr>
</tbody></table>

<h2 id="add-docker-image-repository">Add Docker Image Repository</h2>
<pre class="highlight ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/image_repositories.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s1">'https://quay.io'</span><span class="p">,</span> <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'kickass@company.com'</span><span class="p">,</span> <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'Kickass'</span><span class="p">,</span> <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s1">'supersecret'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/image_repositories</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">283</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://quay.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kickass"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kickass@company.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /image_repositories</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Repository URL</td>
<td><code class="prettyprint">https://quay.io</code></td>
</tr>
<tr>
<td>email</td>
<td><strong>required</strong></td>
<td>string</td>
<td>User email address</td>
<td><code class="prettyprint">kickass@company.com</code></td>
</tr>
<tr>
<td>username</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Username</td>
<td><code class="prettyprint">Kickass</code></td>
</tr>
<tr>
<td>password</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Password</td>
<td><code class="prettyprint">supersecret</code></td>
</tr>
</tbody></table>

<h2 id="edit-docker-image-repository">Edit Docker Image Repository</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">283</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/image_repositories/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s1">'https://quay.io'</span><span class="p">,</span> <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'kickass_squared@company.com'</span><span class="p">,</span> <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'KickassSquared'</span><span class="p">,</span> <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s1">'supersecret'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/image_repositories/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">283</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://quay.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KickassSquared"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kickass_squared@company.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03T14:30:17Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /image_repositories/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The Docker image repository ID</td>
<td><code class="prettyprint">283</code></td>
</tr>
<tr>
<td>url</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Repository URL</td>
<td><code class="prettyprint">https://quay.io</code></td>
</tr>
<tr>
<td>email</td>
<td><strong>required</strong></td>
<td>string</td>
<td>User email address</td>
<td><code class="prettyprint">kickass_squared@company.com</code></td>
</tr>
<tr>
<td>username</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Username</td>
<td><code class="prettyprint">KickassSquared</code></td>
</tr>
<tr>
<td>password</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Password</td>
<td><code class="prettyprint">supersecret</code></td>
</tr>
</tbody></table>

<h2 id="delete-docker-image-repository">Delete Docker Image Repository</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">283</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/image_repositories/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/image_repositories/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /image_repositories/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The Docker image repository ID</td>
<td><code class="prettyprint">283</code></td>
</tr>
</tbody></table>

          <h1 id="environment-variables">Environment Variables</h1>

<h2 id="environment-variable-list">Environment Variable list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/environments.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/environments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4152</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STACK_GIT_BRANCH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_password"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_generated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"history"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"develop"</span><span class="p">,</span><span class="w"> </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T15:09:50Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T15:09:50Z"</span><span class="w"> </span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4153</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STACK_PATH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/deploy/test-elastic-1/web_head/current"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_password"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_generated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"history"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/deploy/test-elastic-1/web_head/somethingold"</span><span class="p">,</span><span class="w"> </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:01:50Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:01:50Z"</span><span class="w"> </span><span class="p">}]</span><span class="w">                    
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4167</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POSTGRESQL_USERNAME"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tja"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:21:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_password"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_generated"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"history"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xyz"</span><span class="p">,</span><span class="w"> </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:01:50Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:01:50Z"</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w"> </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:02:50Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:02:50Z"</span><span class="w"> </span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">4168</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POSTGRESQL_PASSWORD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tjena"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:21:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:21:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_password"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_generated"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"history"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all environment variables of stack</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/environments</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="environment-variable">Environment Variable</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">4153</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/environments/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/environments/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4153</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"STACK_PATH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"/var/deploy/test-elastic-1/web_head/current"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:21:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:21:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_password"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_generated"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"history"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xyz"</span><span class="p">,</span><span class="w"> </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:01:50Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:01:50Z"</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w"> </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:02:50Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T14:02:50Z"</span><span class="w"> </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single environment variable</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/environments/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The environment variable ID</td>
<td><code class="prettyprint">4153</code></td>
</tr>
</tbody></table>

<h2 id="add-environment-variable">Add Environment Variable</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/environments.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:key</span> <span class="o">=&gt;</span> <span class="s1">'MY_ENVIRONMENT_VALUE'</span><span class="p">,</span> <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s1">'SOME_VALUE'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/environments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env-var-new"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"280"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-01T10:56:57Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Add a new environment variable</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/environments</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>key</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The new environment variable key</td>
<td><code class="prettyprint">MY_ENVIRONMENT_VALUE</code></td>
</tr>
<tr>
<td>value</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The new environment variable new value</td>
<td><code class="prettyprint">SOME_VALUE</code></td>
</tr>
</tbody></table>

<h2 id="update-environment-variable">Update Environment Variable</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">key</span> <span class="o">=</span> <span class="s1">'POSTGRESQL_SLAVE_ADDRESSES'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/environments/</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/stacks/{stack_id}/environments/{key}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"env-var-update"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"280"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-01T10:44:52Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update value of an environment variable if it is not readonly</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /stacks/{stack_id}/environments/{key}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>key</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The environment variable key</td>
<td><code class="prettyprint">POSTGRESQL_SLAVE_ADDRESSES</code></td>
</tr>
<tr>
<td>value</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The environment variable new value</td>
<td><code class="prettyprint">127.0.0.1</code></td>
</tr>
</tbody></table>

<h2 id="delete-environment-variable">Delete Environment Variable</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">key</span> <span class="o">=</span> <span class="s1">'MY_ENV_1'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/environments/</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">.json)

puts JSON.parse(response.body)['response']
</span></code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/stacks/{stack_id}/environments/{key}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Delete an environment variable if it is not readonly or generated by cloud66</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /stacks/{stack_id}/environments/{key}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>key</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The environment variable key</td>
<td><code class="prettyprint">MY_ENV_1</code></td>
</tr>
</tbody></table>

          <h1 id="firewall-rules">Firewall rules</h1>

<h2 id="firewall-rules-list">Firewall rules list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/firewalls.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/firewalls</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5027</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_group_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_server_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_server_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rule_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comments"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">5028</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_ip"</span><span class="p">:</span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_group_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_ip"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_group_id"</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"protocol"</span><span class="p">:</span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"port"</span><span class="p">:</span><span class="mi">443</span><span class="p">,</span><span class="nt">"rule_type"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comments"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all firewall rules of stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/firewalls</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="firewall-rule">Firewall rule</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">4153</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/firewalls/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/firewalls/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">5027</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_ip"</span><span class="p">:</span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_group_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_ip"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_group_id"</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"protocol"</span><span class="p">:</span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"port"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rule_type"</span><span class="p">:</span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comments"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:58:23Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single firewall rule</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/firewalls/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The firewall rule ID</td>
<td><code class="prettyprint">4153</code></td>
</tr>
</tbody></table>

<h2 id="add-firewall-rule">Add Firewall rule</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/firewalls.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:from_ip</span> <span class="o">=&gt;</span> <span class="s1">'123.123.123.123'</span><span class="p">,</span> <span class="ss">:protocol</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="mi">80</span><span class="p">,</span> <span class="ss">:ttl</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/firewalls</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1851</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"open_lease"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"1268"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2015-12-08T18:01:21Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>One of the from/to params must be specified.
If you specify <code class="prettyprint">ttl</code> , <code class="prettyprint">from_ip</code> can be set as <code class="prettyprint">AUTO</code>, then caller IP will be set as <code class="prettyprint">from_ip</code></p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/firewalls</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>ttl</td>
<td>optional</td>
<td>integer</td>
<td>Time that firewall rule will be expires in</td>
<td><code class="prettyprint">20</code></td>
</tr>
<tr>
<td>from_ip</td>
<td>optional</td>
<td>string</td>
<td>From IP value of rule</td>
<td><code class="prettyprint">123.123.123.123</code></td>
</tr>
<tr>
<td>from_group_id</td>
<td>optional</td>
<td>integer</td>
<td>You can specify a server group ID as From</td>
<td><code class="prettyprint">19</code></td>
</tr>
<tr>
<td>from_server_id</td>
<td>optional</td>
<td>integer</td>
<td>You can specify a server ID as From</td>
<td><code class="prettyprint">193</code></td>
</tr>
<tr>
<td>to_ip</td>
<td>optional</td>
<td>string</td>
<td>To IP value of rule</td>
<td><code class="prettyprint">123.123.123.123</code></td>
</tr>
<tr>
<td>to_group_id</td>
<td>optional</td>
<td>integer</td>
<td>You can specify a server group ID as To</td>
<td><code class="prettyprint">19</code></td>
</tr>
<tr>
<td>to_server_id</td>
<td>optional</td>
<td>integer</td>
<td>You can specify a server ID as To</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>protocol</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Protocol of firewall rule . <code class="prettyprint">1</code>=TCP , <code class="prettyprint">2</code>=UDP , <code class="prettyprint">3</code>=ICMP</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>port</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Port of firewall rule</td>
<td><code class="prettyprint">80</code></td>
</tr>
</tbody></table>

          <h1 id="notifications">Notifications</h1>

<h2 id="notifications-list">Notifications list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/notifications.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/notifications</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1189</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="nt">"alert_type"</span><span class="p">:</span><span class="s2">"stack.provision.ok"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"channels"</span><span class="p">:[</span><span class="s2">"email"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack_id"</span><span class="p">:</span><span class="s2">"5acd43412ea412e32897c40d46f91183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"params"</span><span class="p">:{},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1190</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="nt">"alert_type"</span><span class="p">:</span><span class="s2">"stack.provision.fail"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"channels"</span><span class="p">:[</span><span class="s2">"email"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack_id"</span><span class="p">:</span><span class="s2">"5acd43412ea412e32897c40d46f91183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"params"</span><span class="p">:{},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1191</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="nt">"alert_type"</span><span class="p">:</span><span class="s2">"stack.redeploy.ok"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"channels"</span><span class="p">:[</span><span class="s2">"email"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack_id"</span><span class="p">:</span><span class="s2">"5acd43412ea412e32897c40d46f91183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"params"</span><span class="p">:{},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">48</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all environment variables of stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/notifications</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>alert_type</td>
<td>optional</td>
<td>string</td>
<td>Type of alert</td>
<td><code class="prettyprint">server.stopped</code></td>
</tr>
</tbody></table>

<h2 id="notification">Notification</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">1191</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/notifications/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/notifications/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1191</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="nt">"alert_type"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"stack.redeploy.ok"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"channels"</span><span class="p">:[</span><span class="s2">"email"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack_id"</span><span class="p">:</span><span class="s2">"5acd43412ea412e32897c40d46f91183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"params"</span><span class="p">:{},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-05-29T17:29:54Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single notification</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/notifications/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The notification ID</td>
<td><code class="prettyprint">1191</code></td>
</tr>
</tbody></table>

<h2 id="update-notification">Update Notification</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">1191</span>

<span class="n">channels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'email'</span><span class="p">,</span><span class="s1">'hipchat'</span><span class="p">]</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:hipchat_room</span> <span class="o">=&gt;</span> <span class="s1">'test'</span><span class="p">,</span> <span class="ss">:hipchat_token</span> <span class="o">=&gt;</span> <span class="s1">'YOUR_TOKEN'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/notifications/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:channels</span> <span class="o">=&gt;</span> <span class="n">channels</span><span class="p">,</span> <span class="ss">:params</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/stacks/{stack_id}/notifications/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_type"</span><span class="p">:</span><span class="s2">"active.protect.block"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"channels"</span><span class="p">:[</span><span class="s2">"email"</span><span class="p">,</span><span class="s2">"hipchat"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"stack_id"</span><span class="p">:</span><span class="s2">"3ee97c150d95a9dc4fc801783d18087c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"params"</span><span class="p">:{},</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-16T18:14:04Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2015-12-09T13:06:14Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Update <code class="prettyprint">channels</code> or <code class="prettyprint">params</code> of a notification</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /stacks/{stack_id}/notifications/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The notification ID</td>
<td><code class="prettyprint">1191</code></td>
</tr>
<tr>
<td>channels</td>
<td>optional</td>
<td>string</td>
<td>Notification channels (valid channels are: <code class="prettyprint">email</code>, <code class="prettyprint">ios</code>, <code class="prettyprint">hipchat</code>, <code class="prettyprint">webhook</code>, <code class="prettyprint">slack</code>)</td>
<td><code class="prettyprint">[email,ios]</code></td>
</tr>
<tr>
<td>params</td>
<td>optional</td>
<td>string</td>
<td>Notification channel parameters (as JSON string with valid keys: <code class="prettyprint">hipchat_token</code>, <code class="prettyprint">hipchat_room</code>, <code class="prettyprint">slack_url</code>, <code class="prettyprint">slack_channel</code>, <code class="prettyprint">webhook_url</code>)</td>
<td><code class="prettyprint">{&#39;hipchat_room&#39; : &#39;test&#39;}</code></td>
</tr>
</tbody></table>

          <h1 id="stack-settings">Stack settings</h1>

<h2 id="settings-list">Settings list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/settings.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/settings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"allowed-web-source"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"allowed.web.source"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"asset-prefix"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"asset.prefix"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"assets"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"git-branch"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"git.branch"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"reconfigure-nginx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"reconfigure.nginx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"stack-name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"stack.name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"test-elastic-1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">"Warning! Changing this value will also modify your Cloud 66 *.c66.me DNS values"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"maintenance-mode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"maintenance.mode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">""</span><span class="w">

    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all settings of stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/settings</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="setting">Setting</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'git-branch'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/settings/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/settings/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"git.branch"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"master"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single setting item</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/settings/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The setting item ID</td>
<td><code class="prettyprint">git-branch</code></td>
</tr>
</tbody></table>

<h2 id="update-setting">Update Setting</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'git-branch'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/settings/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s1">'staging'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/stacks/{stack_id}/settings/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"stack-set: git.branch"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"280"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2014-09-01T12:47:24Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update value of a setting item</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /stacks/{stack_id}/settings/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The setting item ID</td>
<td><code class="prettyprint">git-branch</code></td>
</tr>
<tr>
<td>value</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The setting item new value</td>
<td><code class="prettyprint">staging</code></td>
</tr>
</tbody></table>

          <h1 id="jobs">Jobs</h1>

<h2 id="jobs-list">Jobs list</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/jobs.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/jobs</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nt">"uid"</span><span class="p">:</span><span class="s2">"98ee5a9b93919d9b63bd5377636675bd"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"rake_test"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"RakeJob"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"cron"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="nt">"status"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
       </span><span class="nt">"params"</span><span class="p">:{</span><span class="nt">"task"</span><span class="p">:</span><span class="s2">"db:migrate"</span><span class="p">},</span><span class="w">
       </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2016-02-01 13:37:07 UTC"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2016-02-01 13:37:07 UTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all jobs of a stack.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/jobs</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="run-a-job">Run a job</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">98</span><span class="n">ee5a9b93919d9b63bd5377636675bd</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/jobs/{job_id}/run_now.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/jobs/{job_id}/run_now</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">2593</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"job_run_now"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"1602"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2016-02-04T12:52:24Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Run the job.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/jobs/{job_id}/run_now</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>job_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Job ID</td>
<td><code class="prettyprint">98ee5a9b93919d9b63bd5377636675bd</code></td>
</tr>
<tr>
<td>job_args</td>
<td><strong>optional</strong></td>
<td>string</td>
<td>Arguments passed to the command</td>
<td><code class="prettyprint">Arg1</code></td>
</tr>
</tbody></table>

          <h1 id="server-groups">Server Groups</h1>

<h2 id="server-groups-list">Server Groups list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/server_groups.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/server_groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rails Server"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rails"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">129</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"PostgreSQL Server"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postgresql"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all server groups of stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/server_groups</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="server-group">Server Group</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">128</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/server_groups/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/server_groups/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">

  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rails Server"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rails"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single server group</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/server_groups/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The setting group ID</td>
<td><code class="prettyprint">128</code></td>
</tr>
</tbody></table>

<h2 id="scale-up">Scale up</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">53</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/server_groups/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span>  <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:subtype</span> <span class="o">=&gt;</span> <span class="s1">'docker'</span><span class="p">,</span> <span class="ss">:server_size</span> <span class="o">=&gt;</span> <span class="s1">'t2.small'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/server_groups/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
       </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"shab@shab.com"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"scale_up"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"28"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2016-04-04T18:13:14Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Scale-up a new server in server group. <code class="prettyprint">subtype</code> and <code class="prettyprint">server_size</code> must be passed as params.</p>

<aside class="notice">
This api only works for <i>docker</i> and <i>web</i> server groups
</aside>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/server_groups/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The server group id</td>
<td><code class="prettyprint">12345</code></td>
</tr>
<tr>
<td>subtype</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server group type ( valid options are <code class="prettyprint">web</code>, <code class="prettyprint">process</code> and <code class="prettyprint">docker</code> )</td>
<td><code class="prettyprint">docker</code></td>
</tr>
<tr>
<td>server_size</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server size base on your cloud</td>
<td><code class="prettyprint">t2.small</code></td>
</tr>
<tr>
<td>server_count</td>
<td>optional</td>
<td>integer</td>
<td>The number of server to scale-up</td>
<td><code class="prettyprint">2</code></td>
</tr>
<tr>
<td>server_availability_zone</td>
<td>optional</td>
<td>string</td>
<td>The availability zone which you want the servers fired into (AWS EC2 only)</td>
<td><code class="prettyprint">us-east-1d</code></td>
</tr>
<tr>
<td>server_subnet_id</td>
<td>optional</td>
<td>string</td>
<td>The subnet_id which you want the servers fired into (AWS EC2 only)</td>
<td><code class="prettyprint">subnet-123456</code></td>
</tr>
<tr>
<td>root_disk_type</td>
<td>optional</td>
<td>string</td>
<td>Disk type, accepted values are <code class="prettyprint">ssd</code> and <code class="prettyprint">magnetic</code>.  (AWS EC2 and GCE only)</td>
<td><code class="prettyprint">ssd</code></td>
</tr>
<tr>
<td>root_disk_size</td>
<td>optional</td>
<td>integer</td>
<td>Default size of root disk (in GB) for servers.  (AWS EC2 and GCE only)</td>
<td><code class="prettyprint">40</code></td>
</tr>
<tr>
<td>server_names</td>
<td>optional</td>
<td>string</td>
<td>The name of the servers</td>
<td><code class="prettyprint">backend1,backend2</code></td>
</tr>
</tbody></table>

          <h1 id="servers">Servers</h1>

<h2 id="servers-list">Servers list</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/servers.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/servers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8468fc145ea49bac474b30a8fea888d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vendor_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2492780"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caribou"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146.185.133.183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"distro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"distro_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.04"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dns_record"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caribou.sb-elastic-1.dev.c66.me"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cloud (DigitalOcean) "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"rails"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postgresql"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticsearch"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"db"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"server_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5acd43412ea412e32897c40d46f91183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"has_agent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"params"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"availability_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ips"</span><span class="p">:[</span><span class="s2">"146.185.133.183"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"was_baselined"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cached_cores"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cached_memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">1042336972</span><span class="p">,</span><span class="w">
          </span><span class="nt">"passenger_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.0.48"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"passenger_enterprise"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"supports_nginx_realip"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"passenger_pool_max"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:54:41Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"region"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"availability_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ext_ipv4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146.185.133.183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_state"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"int_ipv4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146.185.133.183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"int_ipv6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ext_ipv6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all servers of stack</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/servers</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
</tbody></table>

<h2 id="servers">Servers</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'f8468fc145ea49bac474b30a8fea888d'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/servers/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/servers/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8468fc145ea49bac474b30a8fea888d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vendor_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2492780"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caribou"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146.185.133.183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"distro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"distro_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.04"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dns_record"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caribou.sb-elastic-1.dev.c66.me"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cloud (DigitalOcean) "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_roles"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"rails"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postgresql"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticsearch"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"db"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"server_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5acd43412ea412e32897c40d46f91183"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"has_agent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"params"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"availability_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ips"</span><span class="p">:[</span><span class="s2">"146.185.133.183"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"was_baselined"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cached_cores"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cached_memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">1042336972</span><span class="p">,</span><span class="w">
          </span><span class="nt">"passenger_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.0.48"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"passenger_enterprise"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"supports_nginx_realip"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"passenger_pool_max"</span><span class="p">:</span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
       </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:21:47Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-29T17:54:41Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"availability_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"ext_ipv4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146.185.133.183"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"health_state"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
       </span><span class="nt">"int_ipv4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146.185.133.183"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"int_ipv6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="nt">"ext_ipv6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single server</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/servers/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server ID</td>
<td><code class="prettyprint">f8468fc145ea49bac474b30a8fea888d</code></td>
</tr>
<tr>
<td>include_private_key</td>
<td>optional</td>
<td>integer</td>
<td>if set to <code class="prettyprint">1</code> then private_key will included in response</td>
<td><code class="prettyprint">1</code></td>
</tr>
</tbody></table>

<h2 id="reboot-server">Reboot server</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'a6b583684833a2cf4845079c9d9350a8'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/servers/</span><span class="si">#{</span><span class="n">server_id</span><span class="si">}</span><span class="s2">/reboot_server"</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/servers/#{server_id}/reboot_server</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"stack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"server_reboot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"283"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2016-01-01T19:08:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can use this method to reboot a speific server of a stack.</p>

<aside class="notice">
<b>Scope:</b> <i>reboot</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/servers/#{server_id}/reboot_server</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the stack</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Unique identifier of the server</td>
<td><code class="prettyprint">f8468fc145ea49bac474b30a8fea888d</code></td>
</tr>
</tbody></table>

          <h1 id="server-settings-settings">Server Settings settings</h1>

<h2 id="server-settings-list">Server Settings list</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">server_id</span> <span class="o">=</span> <span class="s1">'f8468fc145ea49bac474b30a8fea888d'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/servers/</span><span class="si">#{</span><span class="n">server_id</span><span class="si">}</span><span class="s2">/settings.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/servers/{server_id}/settings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"server.name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"Caribou"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"readonly"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"warning_text"</span><span class="p">:</span><span class="s2">"Warning! Changing this value will also modify your Cloud 66 *.c66.me DNS values"</span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all settings of a server</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/servers/{server_id}/settings</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server UID</td>
<td><code class="prettyprint">f8468fc145ea49bac474b30a8fea888d</code></td>
</tr>
</tbody></table>

<h2 id="server-setting">Server Setting</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">server_id</span> <span class="o">=</span> <span class="s1">'f8468fc145ea49bac474b30a8fea888d'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'server-name'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/servers/</span><span class="si">#{</span><span class="n">server_id</span><span class="si">}</span><span class="s2">/settings/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">stacks/{stack_id}/servers/{server_id}/settings/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"server.name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"Caribou"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information of a single server setting item</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET stacks/{stack_id}/servers/{server_id}/settings/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server uid</td>
<td><code class="prettyprint">f8468fc145ea49bac474b30a8fea888d</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server setting item ID</td>
<td><code class="prettyprint">server-name</code></td>
</tr>
</tbody></table>

<h2 id="update-server-setting">Update Server Setting</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">server_id</span> <span class="o">=</span> <span class="s1">'f8468fc145ea49bac474b30a8fea888d'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'server-name'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/servers/</span><span class="si">#{</span><span class="n">server_id</span><span class="si">}</span><span class="s2">/settings/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s1">'newname'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/stacks/{stack_id}/servers/{server_id}/settings/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="s2">"server"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="s2">"server-set: server.name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource_id"</span><span class="p">:</span><span class="s2">"445"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_via"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="s2">"2014-09-01T13:07:35Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_success"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"finished_message"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update value of a server setting item</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /stacks/{stack_id}/servers/{server_id}/settings/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>server_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server UID</td>
<td><code class="prettyprint">f8468fc145ea49bac474b30a8fea888d</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server setting item ID</td>
<td><code class="prettyprint">server-name</code></td>
</tr>
<tr>
<td>value</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The server setting item new value</td>
<td><code class="prettyprint">newname</code></td>
</tr>
</tbody></table>

          <h1 id="clouds">Clouds</h1>

<h2 id="cloud-list">Cloud list</h2>
<pre class="highlight ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/clouds.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/clouds</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"aws"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"display_name"</span><span class="p">:</span><span class="s2">"AWS"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"regions"</span><span class="p">:[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"us-east-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"US East (Northern Virginia)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"us-east-2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"US East (Ohio)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"us-west-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"US West (Northern California)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"us-west-2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"US West (Oregon)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ca-central-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Canada (Central)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"sa-east-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"South America (Sao Paulo, Brazil)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"eu-central-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Europe (Frankfurt, Germany)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"eu-west-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Europe (Dublin, Ireland)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"eu-west-2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Europe (London)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ap-southeast-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Asia Pacific (Singapore)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ap-northeast-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Asia Pacific (Tokyo)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ap-southeast-2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Asia Pacific (Sydney)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ap-south-1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Asia Pacific (Mumbai)"</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"server_sizes"</span><span class="p">:[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"t1.micro"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Micro instance (t1.micro)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"t2.micro"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (t2.micro)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"t2.small"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (t2.small)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"t2.medium"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (t2.medium)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m1.small"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m1.small)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m1.medium"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m1.medium)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m1.large"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m1.large)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m1.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m1.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m3.medium"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m3.medium)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m3.large"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m3.large)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m3.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m3.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m3.2xlarge "</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"General purpose (m3.2xlarge )"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c1.medium"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c1.medium)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c1.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c1.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c3.large"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c3.large)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c3.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c3.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c3.2xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c3.2xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c3.4xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c3.4xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"c3.8xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (c3.8xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"cc2.8xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Compute optimized (cc2.8xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m2.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (m2.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m2.2xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (m2.2xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"m2.4xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (m2.4xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"cr1.8xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (cr1.8xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"hi1.4xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Storage optimized (hi1.4xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"hs1.8xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Storage optimized (hs1.8xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"cg1.4xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"GPU instances (cg1.4xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"g2.2xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"GPU instances (g2.2xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"i2.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Storage optimized (i2.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"i2.2xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Storage optimized (i2.2xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"i2.4xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Storage optimized (i2.4xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"i2.8xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Storage optimized (i2.8xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"r3.large"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (r3.large)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"r3.xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (r3.xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"r3.2xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (r3.2xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"r3.4xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (r3.4xlarge)"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"r3.8xlarge"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Memory optimized (r3.8xlarge)"</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"digitalocean"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"display_name"</span><span class="p">:</span><span class="s2">"DigitalOcean"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"regions"</span><span class="p">:[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ams1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Amsterdam, Netherlands"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ams2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Amsterdam 2, Netherlands"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"5"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ams3"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Amsterdam 3, Netherlands"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"9"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"nyc1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"New York, US"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"nyc2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"New York 2, US"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"4"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"nyc3"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"New York 3, US"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"8"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"sfo1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"San Francisco, US"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"sgp1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"6"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"lon1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"London, UK"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"7"</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"server_sizes"</span><span class="p">:[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"512mb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"512MB - 1 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"1GB - 1 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"2gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"2GB - 2 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"4gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"4GB - 2 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"8gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"8GB - 4 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"16gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"16GB - 8 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"32gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"32GB - 12 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"48gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"48GB - 16 CPU"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"64gb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"64GB - 20 CPU"</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:{</span><span class="w">
       </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
       </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
       </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
       </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
       </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all clouds of account</p>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /clouds</code></p>

<h2 id="cloud">Cloud</h2>
<pre class="highlight ruby"><code><span class="n">cloud_id</span> <span class="o">=</span> <span class="s1">'digitalocean'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/clouds/</span><span class="si">#{</span><span class="n">cloud_id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/clouds/{cloud_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"digitalocean"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="s2">"DigitalOcean"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"regions"</span><span class="p">:[</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ams1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Amsterdam, Netherlands"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ams2"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Amsterdam 2, Netherlands"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"5"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"ams3"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Amsterdam 3, Netherlands"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"9"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"nyc1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"New York, US"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"nyc2"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"New York 2, US"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"4"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"nyc3"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"New York 3, US"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"8"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"sfo1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"San Francisco, US"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"sgp1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"6"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"lon1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"London, UK"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"old_id"</span><span class="p">:</span><span class="s2">"7"</span><span class="w">
           </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"server_sizes"</span><span class="p">:[</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"512mb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"512MB - 1 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"1GB - 1 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"2gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"2GB - 2 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"4gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"4GB - 2 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"8gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"8GB - 4 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"16gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"16GB - 8 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"32gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"32GB - 12 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"48gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"48GB - 16 CPU"</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"64gb"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"64GB - 20 CPU"</span><span class="w">
           </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information about a single cloud of an account</p>

<aside class="notice">
<b>Scope:</b> <i>redeploy</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /clouds/{cloud_id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>cloud_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The cloud ID (name)</td>
<td><code class="prettyprint">digitalocean</code></td>
</tr>
</tbody></table>

          <h1 id="backups">Backups</h1>

<h2 id="backups-list">Backups list</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/backups.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:db_type</span> <span class="o">=&gt;</span> <span class="s1">'mysql'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{id}/backups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="s2">"e63e859d5ab72b0bcf14321f0ffb013d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"db_type"</span><span class="p">:</span><span class="s2">"mysql"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"database_name"</span><span class="p">:</span><span class="s2">"test-db"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"file_base"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_date_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T19:00:33Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_result"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restore_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restore_result"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T19:00:33Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T19:00:33Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"verify_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"verify_result"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"storage_path"</span><span class="p">:</span><span class="s2">"2aad2bb5a70e621ecf251fbd85af6927/backups/3c656a1bcc160769762763c6276c18b9/mysql/test_db_11/2014.09.01.19.00.31"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"skip_tables"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="nt">"backup_size"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="s2">"e63e859d5ab72b0bcf14321f0ffb013d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"db_type"</span><span class="p">:</span><span class="s2">"mysql"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"database_name"</span><span class="p">:</span><span class="s2">"test-db"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"file_base"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_date_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T18:16:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_result"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restore_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restore_result"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T18:16:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T18:16:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"verify_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"verify_result"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"storage_path"</span><span class="p">:</span><span class="s2">"2aad2bb5a70e621ecf251fbd85af6927/backups/3c656a1bcc160769762763c6276c18b9/mysql/test_db_11/2014.09.01.18.16.14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"skip_tables"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="nt">"backup_size"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all backups of stack.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{id}/backups</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>group</td>
<td>optional</td>
<td>integer</td>
<td>Backup group ID</td>
<td><code class="prettyprint">15</code></td>
</tr>
<tr>
<td>db_type</td>
<td>optional</td>
<td>string</td>
<td>Backup database type (valid options are: <code class="prettyprint">mysql</code>, <code class="prettyprint">postgresql</code>, <code class="prettyprint">redis</code>, <code class="prettyprint">mongodb</code>)</td>
<td><code class="prettyprint">mysql</code></td>
</tr>
</tbody></table>

<h2 id="backup">Backup</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">4153</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/backups/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/backups/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"server_uid"</span><span class="p">:</span><span class="s2">"e63e859d5ab72b0bcf14321f0ffb013d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"db_type"</span><span class="p">:</span><span class="s2">"mysql"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"database_name"</span><span class="p">:</span><span class="s2">"shab-test-db"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"file_base"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_date_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T18:16:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_result"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restore_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"restore_result"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T18:16:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="s2">"2014-09-01T18:16:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"verify_status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"verify_result"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"storage_path"</span><span class="p">:</span><span class="s2">"2aad2bb5a70e621ecf251fbd85af6927/backups/3c656a1bcc160769762763c6276c18b9/mysql/test_db_11/2014.09.01.18.16.14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"skip_tables"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"backup_size"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information about a single backup.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/backups/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Backup ID</td>
<td><code class="prettyprint">4153</code></td>
</tr>
</tbody></table>

<h2 id="new-backup">New Backup</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/backups.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:db_type</span> <span class="o">=&gt;</span> <span class="s1">'mysql'</span><span class="p">,</span> <span class="ss">:keep_count</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/backups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"ok"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"queued for creation"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a new backup task.</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/backups</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>db_type</td>
<td>optional</td>
<td>string</td>
<td>Comma separated list of Database types which need backup tasks (valid options: <code class="prettyprint">all</code>, <code class="prettyprint">mysql</code>, <code class="prettyprint">postgresql</code>, <code class="prettyprint">redis</code>, <code class="prettyprint">mongodb</code>)</td>
<td><code class="prettyprint">mysql,redis</code></td>
</tr>
<tr>
<td>frequency</td>
<td>optional</td>
<td>string</td>
<td>Frequency of backup task in cron schedule format</td>
<td><code class="prettyprint">0 */1 * * *</code></td>
</tr>
<tr>
<td>keep_count</td>
<td>optional</td>
<td>integer</td>
<td>Number of previous backups to keep</td>
<td><code class="prettyprint">10</code></td>
</tr>
<tr>
<td>gzip</td>
<td>optional</td>
<td>boolean</td>
<td>Compress your backups with gzip.</td>
<td><code class="prettyprint">false</code></td>
</tr>
<tr>
<td>excluded_tables</td>
<td>optional</td>
<td>string</td>
<td>Tables that must be excluded from the backup</td>
<td><code class="prettyprint">my_log_table</code></td>
</tr>
<tr>
<td>run_on_replica_server</td>
<td>optional</td>
<td>boolean</td>
<td>Run backup task on replica server if available</td>
<td><code class="prettyprint">false</code></td>
</tr>
</tbody></table>

<h2 id="import-backup">Import Backup</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">remote_url</span> <span class="o">=</span> <span class="s1">'https://s3.amazonaws.com/c66-managed-backup-non-prod/2aad2bb5a70e621ecf251fbd85af6927/backups/09a7dec0efdaa19b44148fccbf6128ec/redis/redis_23/2014.07.01.07.00.46/redis_23.tar'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/backups.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:db_type</span> <span class="o">=&gt;</span> <span class="s1">'mysql'</span><span class="p">,</span> <span class="ss">:group</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="ss">:remote_url</span> <span class="o">=&gt;</span> <span class="n">remote_url</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/stacks/{stack_id}/backups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"ok"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Your external backup queued for upload"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Import an external backup.</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /stacks/{stack_id}/backups</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>group</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The group ID of backups that imported backup must restored in</td>
<td><code class="prettyprint">5</code></td>
</tr>
<tr>
<td>db_type</td>
<td><strong>required</strong></td>
<td>string</td>
<td>Comma separated list of Database types which need backup tasks (valid options: <code class="prettyprint">mysql</code>, <code class="prettyprint">postgresql</code>, <code class="prettyprint">redis</code>, <code class="prettyprint">mongodb</code>)</td>
<td><code class="prettyprint">mysql</code></td>
</tr>
<tr>
<td>remote_url</td>
<td><strong>required</strong></td>
<td>string</td>
<td>A URL to backup file to be imported</td>
<td><code class="prettyprint">https://s3.amazonaws.com/c66-managed-backup-non-prod/2aad2bb5a70e621ecf251fbd85af6927/backups/09a7dec0efdaa19b44148fccbf6128ec/redis/redis_23/2014.07.01.07.00.46/redis_23.tar</code></td>
</tr>
</tbody></table>

<h2 id="backups-files-list">Backups files list</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">backup_id</span> <span class="o">=</span> <span class="mi">4153</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/backups/</span><span class="si">#{</span><span class="n">backup_id</span><span class="si">}</span><span class="s2">/files.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/backups/{backup_id}/files</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"tar"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"test_db_11.tar"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of all backup files of a stack.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/backups/{backup_id}/files</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>backup_id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Backup ID</td>
<td><code class="prettyprint">4153</code></td>
</tr>
</tbody></table>

<h2 id="backup-file">Backup file</h2>
<pre class="highlight ruby"><code><span class="n">stack_id</span> <span class="o">=</span> <span class="s1">'5999b763474b0eafa5fafb64bff0ba80'</span>
<span class="n">backup_id</span> <span class="o">=</span> <span class="mi">4153</span>
<span class="nb">id</span> <span class="o">=</span> <span class="s1">'tar-aa'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/stacks/</span><span class="si">#{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">/backups/</span><span class="si">#{</span><span class="n">backup_id</span><span class="si">}</span><span class="s2">/files/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/stacks/{stack_id}/backups/{backup_id}/files/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"ok"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"public_url"</span><span class="p">:</span><span class="s2">"https://c66-managed-backup-non-prod.s3.amazonaws.com/2aad2bb5a70e621ecf251fbd85af6927/backups/3c656a1bcc160769762763c6276c18b9/mysql/test_db_11/2014.09.01.18.16.14/test_db_11.tar?AWSAccessKeyId=AKIAIKCYITLQBEJDIETQ\u0026Expires=1409603570\u0026Signature=C2au7Jq%252F1m6uHGHRfGJPn%252F2GSS8%253D"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get the public URL to a backup file.</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /stacks/{stack_id}/backups/{backup_id}/files/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>stack_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The stack UID</td>
<td><code class="prettyprint">5999b763474b0eafa5fafb64bff0ba80</code></td>
</tr>
<tr>
<td>backup_id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Backup ID</td>
<td><code class="prettyprint">4153</code></td>
</tr>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The file ID</td>
<td><code class="prettyprint">tar-aa</code></td>
</tr>
</tbody></table>

          <h1 id="accounts">Accounts</h1>

<h2 id="accounts-list">Accounts list</h2>
<pre class="highlight ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/accounts.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/accounts</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">139</span><span class="p">,</span><span class="w">
      </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-06-19T11:08:03Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-20T12:55:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stack_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"used_clouds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"digitalocean"</span><span class="p">,</span><span class="s2">"rackspace"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a list of accounts that caller belongs to.</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /accounts</code></p>

<h2 id="account">Account</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/accounts/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/accounts/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">139</span><span class="p">,</span><span class="w">
          </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@cloud66.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-06-19T11:08:03Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-20T12:55:58Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stack_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"used_clouds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"digitalocean"</span><span class="p">,</span><span class="s2">"rackspace"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get information about an account.</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /accounts/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The account ID</td>
<td><code class="prettyprint">1</code></td>
</tr>
</tbody></table>

          <h1 id="users">Users</h1>

<h2 id="users-list">Users list</h2>
<pre class="highlight ruby"><code><span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/users.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jack@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"primary_account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"access_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"account_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"can_create_stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_admin_users"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_add_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_audit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_docker_img_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_ssh_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_personal_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_authorized_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_add_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_git_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_gateway"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"default_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Administrator"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"stack_profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d1f1d43bb86ff3e97c9f6ff2841e42cb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"uses_tfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"has_valid_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"developer_program"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"github_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-29T15:25:20Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"device_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wertqy"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-04 11:57:36 UTC"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-04 12:03:22 UTC"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-04T11:57:36Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-04T12:03:22Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-14T19:45:28Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01T11:23:38Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cloud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"healthy"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jim@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"primary_account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"access_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"account_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"can_create_stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_admin_users"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_add_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_audit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_docker_img_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_ssh_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_personal_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_authorized_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_view_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_add_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_del_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_git_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"can_edit_gateway"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"default_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Viewer"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"stack_profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deployer"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Viewer"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"uses_tfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"has_valid_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"developer_program"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"github_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:13Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:16Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cloud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"healthy"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get list of users that caller has access to.</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /users</code></p>

<h2 id="user">User</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/users/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/users/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jim@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary_account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"access_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"account_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"can_create_stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_admin_users"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_add_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_audit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_docker_img_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_ssh_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_personal_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_authorized_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_add_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_git_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_gateway"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Viewer"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"stack_profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deployer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Viewer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"uses_tfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_valid_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"developer_program"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"github_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:13Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cloud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"healthy"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get detailed information about a user.</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /users/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The user UID</td>
<td><code class="prettyprint">1</code></td>
</tr>
</tbody></table>

<h2 id="update-user">Update User</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/users/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span> <span class="n">payload</span> <span class="p">}})</span>
<span class="c1"># payload is a the same as the result of GET /user/{id}.json</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/users/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jim@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary_account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"access_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"account_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"can_create_stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_admin_users"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_add_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_cloud_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_acc_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_audit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_docker_img_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_ssh_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_personal_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_authorized_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_view_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_custom_env"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_add_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_del_developers_app"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_git_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_edit_gateway"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Viewer"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"stack_profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deployer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Viewer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740f81b98eb847fab0df538ea8780d9d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"stack_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f4eaaf56b5768f272ab875d2ba48b1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administrator"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"uses_tfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_valid_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"developer_program"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"github_login"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:13Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-28T13:12:16Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cloud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"healthy"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update user information. Currently only access profile section changes are applied.</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /users/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The user UID</td>
<td><code class="prettyprint">1</code></td>
</tr>
</tbody></table>

<h2 id="add-device">Add Device</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">'htyukjbnnmshthkr'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/users/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/devices.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:device_type</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:sub_type</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:token</span> <span class="o">=&gt;</span> <span class="n">token</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/users/{id}/devices</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"device_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmccdd"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-01 09:15:50 UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-01 09:15:50 UTC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-01T09:15:50Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at_iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-01T09:15:50Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Add a new device for the user.</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<aside class="warning">
Unfortunately, a Cloud 66 app for Android is not currently available!</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /users/{id}/devices</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The user UID</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>device_type</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Device type (<code class="prettyprint">1</code> = iOS, <code class="prettyprint">2</code> = Android)</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>sub_type</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Device subtype (<code class="prettyprint">1</code> = iPhone, <code class="prettyprint">2</code> = iPad, <code class="prettyprint">3</code> = iPod)</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>token</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The token of the device</td>
<td><code class="prettyprint">htyukjbnnmshthkr</code></td>
</tr>
</tbody></table>

<h2 id="update-device">Update Device</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">'htyukjbnnmshthkr'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/users/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/devices.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:device_type</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:sub_type</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:token</span> <span class="o">=&gt;</span> <span class="n">token</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/users/{id}/devices</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Update <code class="prettyprint">device_type</code> or <code class="prettyprint">sub_type</code> of a device</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /users/{id}/devices</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The user UID</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>device_type</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Device type (<code class="prettyprint">1</code> = iOS, <code class="prettyprint">2</code> = Android)</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>sub_type</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>Device subtype (<code class="prettyprint">1</code> = iPhone, <code class="prettyprint">2</code> = iPad, <code class="prettyprint">3</code> = iPod)</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>token</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The token of the device</td>
<td><code class="prettyprint">htyukjbnnmshthkr</code></td>
</tr>
</tbody></table>

<h2 id="delete-device">Delete Device</h2>
<pre class="highlight ruby"><code><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">'htyukjbnnmshthkr'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/users/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/devices/</span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/users/{id}/devices/{token}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Delete a device</p>

<aside class="notice">
<b>Scope:</b> <i>users</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /users/{id}/devices/{token}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The user UID</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>token</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The token of the device</td>
<td><code class="prettyprint">htyukjbnnmshthkr</code></td>
</tr>
</tbody></table>

          <h1 id="gateways">Gateways</h1>

<h2 id="gateways-list">Gateways list</h2>
<pre class="highlight ruby"><code><span class="n">account_id</span> <span class="o">=</span> <span class="s1">'1234'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/accounts/</span><span class="si">#{</span><span class="n">account_id</span><span class="si">}</span><span class="s2">/gateways.json"</span><span class="p">)</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/accounts/{account_id}/gateways</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="err">=&gt;1,</span><span class="w">
        </span><span class="nt">"name"</span><span class="err">=&gt;</span><span class="nt">"aws_bastion"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="err">=&gt;</span><span class="nt">"ec2-usr"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"address"</span><span class="err">=&gt;</span><span class="nt">"1.1.1.1"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"private_ip"</span><span class="err">=&gt;</span><span class="nt">"2.2.2.2"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"ttl"</span><span class="err">=&gt;</span><span class="nt">"2016-02-01T14:46:38Z"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="err">=&gt;</span><span class="nt">"N/A"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"created_at_iso"</span><span class="err">=&gt;</span><span class="nt">"2016-02-01T14:37:05Z"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"updated_at_iso"</span><span class="err">=&gt;</span><span class="nt">"2016-02-01T14:47:01Z"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"created_by"</span><span class="err">=&gt;</span><span class="nt">"user1@cloud66.com"</span><span class="err">,</span><span class="w">
        </span><span class="nt">"updated_by"</span><span class="err">=&gt;</span><span class="nt">"user1@cloud66.com"</span><span class="w">
      </span><span class="err">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nt">"pagination"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"per_page"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a list of all the gateways of the account</p>

<aside class="notice">
<b>Scope:</b> <i>public</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /accounts/{account_id}/gateways</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>account_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The account id</td>
<td><code class="prettyprint">12345</code></td>
</tr>
</tbody></table>

<h2 id="gateway-create">Gateway Create</h2>
<pre class="highlight ruby"><code><span class="n">account_id</span> <span class="o">=</span> <span class="s1">'1234'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/accounts/</span><span class="si">#{</span><span class="n">account_id</span><span class="si">}</span><span class="s2">/gateways.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'aws_test'</span><span class="p">,</span> <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'ec2-usr'</span><span class="p">,</span> <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'1.1.1.1'</span><span class="p">,</span> <span class="ss">:ttl</span> <span class="o">=&gt;</span> <span class="mi">3600</span><span class="p">,</span> <span class="ss">:private_ip</span> <span class="o">=&gt;</span> <span class="s1">'2.2.2.2'</span><span class="p">,</span> <span class="ss">:content</span> <span class="o">=&gt;</span> <span class="s1">'xxxxxxxxxxxxx'</span><span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/accounts/{account_id}/gateways</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w"> </span><span class="nt">"response"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Create a new gateway under the account.  <code class="prettyprint">name</code> must be passed as params. You can also specify <code class="prettyprint">username</code> , <code class="prettyprint">address</code>, <code class="prettyprint">ttl</code>, <code class="prettyprint">private_ip</code> and <code class="prettyprint">content</code> as params.</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /accounts/{account_id}/gateways</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>account_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The account id</td>
<td><code class="prettyprint">12345</code></td>
</tr>
<tr>
<td>name</td>
<td><strong>required</strong></td>
<td>string</td>
<td>New gateway name</td>
<td><code class="prettyprint">new_gateway_name</code></td>
</tr>
<tr>
<td>username</td>
<td>optional</td>
<td>string</td>
<td>Username of bastion server</td>
<td><code class="prettyprint">ec2-usr</code></td>
</tr>
<tr>
<td>address</td>
<td>optional</td>
<td>string</td>
<td>Public IP or DNS address of bastion server</td>
<td><code class="prettyprint">1.1.1.1</code></td>
</tr>
<tr>
<td>ttl</td>
<td>optional</td>
<td>integer</td>
<td>The number of seconds you want the gateway available</td>
<td><code class="prettyprint">3600</code></td>
</tr>
<tr>
<td>private_ip</td>
<td>optional</td>
<td>string</td>
<td>Private IP or DNS address of bastion server</td>
<td><code class="prettyprint">2.2.2.2</code></td>
</tr>
<tr>
<td>content</td>
<td>optional</td>
<td>string</td>
<td>The content of private key of bastion server</td>
<td><code class="prettyprint">xxxxxxxx</code></td>
</tr>
</tbody></table>

<h2 id="update-gateway">Update Gateway</h2>
<pre class="highlight ruby"><code><span class="n">account_id</span> <span class="o">=</span> <span class="s1">'1234'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/accounts/</span><span class="si">#{</span><span class="n">account_id</span><span class="si">}</span><span class="s2">/gateways/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">,</span> <span class="p">{</span><span class="ss">body: </span><span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'new_name'</span><span class="p">,</span> <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'ubuntu'</span> <span class="p">,</span> <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="s1">'1.2.3.4'</span> <span class="p">}})</span>

<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>

</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/accounts/{account_id}/gateways/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="err">{ "response":
    {
        "ok": true
    }
}
</span></code></pre>

<p>Update gateway information.</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /accounts/{account_id}/gateways/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The gateway id</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>account_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The account id</td>
<td><code class="prettyprint">12345</code></td>
</tr>
<tr>
<td>name</td>
<td>optional</td>
<td>string</td>
<td>Gateway name</td>
<td><code class="prettyprint">new_gateway_name</code></td>
</tr>
<tr>
<td>username</td>
<td>optional</td>
<td>string</td>
<td>Username of bastion server</td>
<td><code class="prettyprint">ec2-usr</code></td>
</tr>
<tr>
<td>address</td>
<td>optional</td>
<td>string</td>
<td>Public IP or DNS address of bastion server</td>
<td><code class="prettyprint">1.1.1.1</code></td>
</tr>
<tr>
<td>ttl</td>
<td>optional</td>
<td>integer</td>
<td>The number of seconds you want the gateway available</td>
<td><code class="prettyprint">3600</code></td>
</tr>
<tr>
<td>private_ip</td>
<td>optional</td>
<td>string</td>
<td>Private IP or DNS address of bastion server</td>
<td><code class="prettyprint">2.2.2.2</code></td>
</tr>
<tr>
<td>content</td>
<td>optional</td>
<td>string</td>
<td>The content of private key of bastion server</td>
<td><code class="prettyprint">xxxxxxxx</code></td>
</tr>
</tbody></table>

<h2 id="delete-gateway">Delete Gateway</h2>
<pre class="highlight ruby"><code><span class="n">account_id</span> <span class="o">=</span> <span class="s1">'1234'</span>
<span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">api_url</span><span class="si">}</span><span class="s2">/accounts/</span><span class="si">#{</span><span class="n">account_id</span><span class="si">}</span><span class="s2">/gateways/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">.json"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)[</span><span class="s1">'response'</span><span class="p">]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/accounts/{account_id}/gateways/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-RateLimit-Limit</span><span class="p">:</span> <span class="s">3600</span>
<span class="na">X-RateLimit-Remaining</span><span class="p">:</span> <span class="s">3597</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Delete a gateway</p>

<aside class="notice">
<b>Scope:</b> <i>admin</i>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /accounts/{account_id}/gateways/{id}</code></p>

<h3 id="query-parameters">Query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Presence</th>
<th>Data type</th>
<th>Description</th>
<th>Sample value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>required</strong></td>
<td>integer</td>
<td>The gateway id</td>
<td><code class="prettyprint">1</code></td>
</tr>
<tr>
<td>account_id</td>
<td><strong>required</strong></td>
<td>string</td>
<td>The account id</td>
<td><code class="prettyprint">12345</code></td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="ruby">Ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
